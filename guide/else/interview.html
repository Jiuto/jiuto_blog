<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试路漫漫 | Jiuto&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/jiuto_blog/assets/css/0.styles.6fc0ad5c.css" as="style"><link rel="preload" href="/jiuto_blog/assets/js/app.3eb51ab4.js" as="script"><link rel="preload" href="/jiuto_blog/assets/js/2.306ea56a.js" as="script"><link rel="preload" href="/jiuto_blog/assets/js/24.71859bdc.js" as="script"><link rel="prefetch" href="/jiuto_blog/assets/js/10.d073ce5b.js"><link rel="prefetch" href="/jiuto_blog/assets/js/11.fe63c528.js"><link rel="prefetch" href="/jiuto_blog/assets/js/12.8cf68523.js"><link rel="prefetch" href="/jiuto_blog/assets/js/13.d8a34853.js"><link rel="prefetch" href="/jiuto_blog/assets/js/14.6251012b.js"><link rel="prefetch" href="/jiuto_blog/assets/js/15.141b8e95.js"><link rel="prefetch" href="/jiuto_blog/assets/js/16.9c949d0a.js"><link rel="prefetch" href="/jiuto_blog/assets/js/17.32073043.js"><link rel="prefetch" href="/jiuto_blog/assets/js/18.750fe351.js"><link rel="prefetch" href="/jiuto_blog/assets/js/19.cc1f584b.js"><link rel="prefetch" href="/jiuto_blog/assets/js/20.ba81f790.js"><link rel="prefetch" href="/jiuto_blog/assets/js/21.884554df.js"><link rel="prefetch" href="/jiuto_blog/assets/js/22.3cac2d3b.js"><link rel="prefetch" href="/jiuto_blog/assets/js/23.4a88cc38.js"><link rel="prefetch" href="/jiuto_blog/assets/js/25.44b23323.js"><link rel="prefetch" href="/jiuto_blog/assets/js/26.eef7e838.js"><link rel="prefetch" href="/jiuto_blog/assets/js/27.50ffa3e3.js"><link rel="prefetch" href="/jiuto_blog/assets/js/28.f630f291.js"><link rel="prefetch" href="/jiuto_blog/assets/js/29.9207d993.js"><link rel="prefetch" href="/jiuto_blog/assets/js/3.c72e21eb.js"><link rel="prefetch" href="/jiuto_blog/assets/js/30.0357d1e0.js"><link rel="prefetch" href="/jiuto_blog/assets/js/31.0c2c5e8f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/32.5efd3d71.js"><link rel="prefetch" href="/jiuto_blog/assets/js/33.29fc488a.js"><link rel="prefetch" href="/jiuto_blog/assets/js/34.bd680e48.js"><link rel="prefetch" href="/jiuto_blog/assets/js/35.11888e37.js"><link rel="prefetch" href="/jiuto_blog/assets/js/36.9cf5ff51.js"><link rel="prefetch" href="/jiuto_blog/assets/js/37.28b4d7c8.js"><link rel="prefetch" href="/jiuto_blog/assets/js/38.91c183d9.js"><link rel="prefetch" href="/jiuto_blog/assets/js/39.e2be7aa9.js"><link rel="prefetch" href="/jiuto_blog/assets/js/4.3f39f4a3.js"><link rel="prefetch" href="/jiuto_blog/assets/js/40.b73e8e14.js"><link rel="prefetch" href="/jiuto_blog/assets/js/41.bec96ac0.js"><link rel="prefetch" href="/jiuto_blog/assets/js/42.fe46ad16.js"><link rel="prefetch" href="/jiuto_blog/assets/js/43.efbc20be.js"><link rel="prefetch" href="/jiuto_blog/assets/js/44.abeebc31.js"><link rel="prefetch" href="/jiuto_blog/assets/js/45.39f5b26a.js"><link rel="prefetch" href="/jiuto_blog/assets/js/46.a0dcc0b7.js"><link rel="prefetch" href="/jiuto_blog/assets/js/47.881e4428.js"><link rel="prefetch" href="/jiuto_blog/assets/js/48.dc876a6f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/49.04530027.js"><link rel="prefetch" href="/jiuto_blog/assets/js/5.16ca0c6c.js"><link rel="prefetch" href="/jiuto_blog/assets/js/50.b3954b0e.js"><link rel="prefetch" href="/jiuto_blog/assets/js/51.5b2111d5.js"><link rel="prefetch" href="/jiuto_blog/assets/js/52.e3ea7aec.js"><link rel="prefetch" href="/jiuto_blog/assets/js/53.66c750c8.js"><link rel="prefetch" href="/jiuto_blog/assets/js/54.9434bd13.js"><link rel="prefetch" href="/jiuto_blog/assets/js/55.31791de8.js"><link rel="prefetch" href="/jiuto_blog/assets/js/56.9a136df1.js"><link rel="prefetch" href="/jiuto_blog/assets/js/57.33900637.js"><link rel="prefetch" href="/jiuto_blog/assets/js/6.17d5dd20.js"><link rel="prefetch" href="/jiuto_blog/assets/js/7.0797a358.js"><link rel="prefetch" href="/jiuto_blog/assets/js/8.fd3de283.js"><link rel="prefetch" href="/jiuto_blog/assets/js/9.c49b9f23.js">
    <link rel="stylesheet" href="/jiuto_blog/assets/css/0.styles.6fc0ad5c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jiuto_blog/" class="home-link router-link-active"><!----> <span class="site-name">Jiuto's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/Jiuto" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/Jiuto" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/js/eventBus.html" class="sidebar-link">用Map写一个EventBus事件总线</a></li><li><a href="/jiuto_blog/guide/js/promise.html" class="sidebar-link">手写一个Promise</a></li><li><a href="/jiuto_blog/guide/js/babble_capture.html" class="sidebar-link">冒泡与捕获</a></li><li><a href="/jiuto_blog/guide/js/debounce_throttle.html" class="sidebar-link">防抖与节流</a></li><li><a href="/jiuto_blog/guide/js/clone.html" class="sidebar-link">浅拷贝和深拷贝</a></li><li><a href="/jiuto_blog/guide/js/module.html" class="sidebar-link">ES6 Module</a></li><li><a href="/jiuto_blog/guide/js/template.html" class="sidebar-link">模板引擎原理</a></li><li><a href="/jiuto_blog/guide/js/closure.html" class="sidebar-link">理解js闭包</a></li><li><a href="/jiuto_blog/guide/js/proto.html" class="sidebar-link">理解js原型、原型链和继承</a></li><li><a href="/jiuto_blog/guide/js/new.html" class="sidebar-link">手写 new 操作符</a></li><li><a href="/jiuto_blog/guide/js/bind.html" class="sidebar-link">手写 bind</a></li><li><a href="/jiuto_blog/guide/js/apply_call.html" class="sidebar-link">手写 apply 和 call</a></li><li><a href="/jiuto_blog/guide/js/let_const.html" class="sidebar-link">let、const和块级作用域</a></li><li><a href="/jiuto_blog/guide/js/curry.html" class="sidebar-link">柯里化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/css/flex.html" class="sidebar-link">flex布局</a></li><li><a href="/jiuto_blog/guide/css/layout.html" class="sidebar-link">常见布局</a></li><li><a href="/jiuto_blog/guide/css/bfc.html" class="sidebar-link">BFC 块格式化上下文</a></li><li><a href="/jiuto_blog/guide/css/stacking_context.html" class="sidebar-link">层叠上下文、层叠层级、层叠顺序</a></li><li><a href="/jiuto_blog/guide/css/center.html" class="sidebar-link">水平居中、垂直居中</a></li><li><a href="/jiuto_blog/guide/css/grid.html" class="sidebar-link">grid 网格布局</a></li><li><a href="/jiuto_blog/guide/css/css3.html" class="sidebar-link">CSS3 动画</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/vue/nextTick.html" class="sidebar-link">vue中$nextTick的实现原理</a></li><li><a href="/jiuto_blog/guide/vue/responsive.html" class="sidebar-link">简单实现vue响应式原理</a></li><li><a href="/jiuto_blog/guide/vue/initData.html" class="sidebar-link">源码分析vue响应式原理</a></li><li><a href="/jiuto_blog/guide/vue/initWatch.html" class="sidebar-link">源码分析vue watch侦听器</a></li><li><a href="/jiuto_blog/guide/vue/patch.html" class="sidebar-link">源码阅读vue VirtualDOM 和 diff</a></li><li><a href="/jiuto_blog/guide/vue/initComputed.html" class="sidebar-link">源码分析vue computed</a></li><li><a href="/jiuto_blog/guide/vue/router.html" class="sidebar-link">源码阅读vue-router</a></li><li><a href="/jiuto_blog/guide/vue/vuex.html" class="sidebar-link">源码阅读vuex</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/webpack/webpack_template.html" class="sidebar-link">webpack多页面打包方法工具和模板</a></li><li><a href="/jiuto_blog/guide/webpack/babeltry.html" class="sidebar-link">通过babel手撸超简化版webpack</a></li><li><a href="/jiuto_blog/guide/webpack/plugin_loader.html" class="sidebar-link">手写webpack plugin 和 loader</a></li><li><a href="/jiuto_blog/guide/webpack/babel_plugin.html" class="sidebar-link">写一个Babel插件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/browser/eventloop.html" class="sidebar-link">event loop 事件循环</a></li><li><a href="/jiuto_blog/guide/browser/render.html" class="sidebar-link">浏览器渲染机制</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>网络与安全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/network/http.html" class="sidebar-link">http、https</a></li><li><a href="/jiuto_blog/guide/network/cache.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/jiuto_blog/guide/network/cross.html" class="sidebar-link">跨域</a></li><li><a href="/jiuto_blog/guide/network/security.html" class="sidebar-link">web 安全</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/else/ele_expend.html" class="sidebar-link">如何在element-ui中拓展一个新的组件</a></li><li><a href="/jiuto_blog/guide/else/cli.html" class="sidebar-link">搭建一个脚手架工具</a></li><li><a href="/jiuto_blog/guide/else/utils.html" class="sidebar-link">搭建一个方法库</a></li><li><a href="/jiuto_blog/guide/else/auto_deploy.html" class="sidebar-link">搭建一个自动化部署服务</a></li><li><a href="/jiuto_blog/guide/else/docker_verdaccio.html" class="sidebar-link">在docker中通过Verdaccio搭建一个私有npm库</a></li><li><a href="/jiuto_blog/guide/else/docker_initSql.html" class="sidebar-link">通过Dockerfile在docker中初始化mysql表</a></li><li><a href="/jiuto_blog/guide/else/eslint_prettier.html" class="sidebar-link">在vue/react项目中配置eslint + prettier</a></li><li><a href="/jiuto_blog/guide/else/karma_mocha.html" class="sidebar-link">搭建一个由 karma + mocha + chai + Istanbul 组成的基础测试工具</a></li><li><a href="/jiuto_blog/guide/else/optimization.html" class="sidebar-link">首屏加载优化</a></li><li><a href="/jiuto_blog/guide/else/docker.html" class="sidebar-link">如何使用docker发布项目</a></li><li><a href="/jiuto_blog/guide/else/interview.html" aria-current="page" class="active sidebar-link">面试路漫漫</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="面试路漫漫"><a href="#面试路漫漫" class="header-anchor">#</a> 面试路漫漫</h2> <blockquote><p>一个菜鸡的面试之路记录，持续更新，后面要尽量提炼拓展出一些文章。</p></blockquote> <h3 id="_4-15-晚上电话面试50min-alcn"><a href="#_4-15-晚上电话面试50min-alcn" class="header-anchor">#</a> 4.15 晚上电话面试50min ALCN</h3> <h4 id="es6及之后版本添加的特性"><a href="#es6及之后版本添加的特性" class="header-anchor">#</a> ES6及之后版本添加的特性</h4> <p><strong>ES2015/ES6</strong></p> <p>let/const、Promise、Module、Class、箭头函数、函数参数默认值、字符串模板`${data}`、结构赋值<code>{name} = data;</code>与<code>[a, b] = [1, 2];</code>、延展操作符<code>...</code>、
对象属性简写<code>var obj = { name, age, city };</code>、</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/js/let_const.html" target="_blank" rel="noopener noreferrer">let、const和块级作用域<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/js/module.html" target="_blank" rel="noopener noreferrer">ES6 Module<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>ES2016</strong></p> <p><code>Array.prototype.includes()</code>返回布尔值、指数运算符<code>**</code>（<code>2**10</code> 同 <code>Math.pow(2,10)</code>）</p> <p><strong>ES2017</strong></p> <p>async/await、Object.values()返回属性值数组、Object.entries()返回对象可枚举属性的键值对数组、String.prototype.padStart和String.prototype.padEnd、
函数参数列表结尾允许逗号、Object.getOwnPropertyDescriptors()、SharedArrayBuffer对象、Atomics对象</p> <p><strong>ES2018</strong></p> <p>异步迭代（await可以和for...of循环一起使用）、Promise.finally()、Rest/Spread 属性（为对象解构提供了和数组一样的Rest参数）、
正则表达式命名捕获组、正则表达式反向断言、正则表达式dotAll模式、正则表达式 Unicode 转义、非转义序列的模板字符串</p> <p><strong>ES2019</strong></p> <p>行分隔符（U + 2028）和段分隔符（U + 2029）符号现在允许在字符串文字中，与JSON匹配、更加友好的 JSON.stringify、Array.prototype.flat()和Array.prototype.flatMap()、
String的trimStart()方法和trimEnd()方法、Object.fromEntries()、Symbol.prototype.description、String.prototype.matchAll、Function.prototype.toString()现在返回精确字符，包括空格和注释、修改 catch 绑定、BigInt（七种基本数据类型，分别是： String、Number、Boolean、Null、Undefined、Symbol、BigInt）</p> <p><strong>ES2020</strong></p> <p>可选链操作符（Optional Chaining）<code>obj?.first?.second</code>、空位合并操作符（<code>a ?? b</code> 同 <code>a !== undefined &amp;&amp; a !== null ? a : b</code>）、Promise.allSettled、
String.prototype.matchAll、Dynamic import（支持await）、BigInt、globalThis</p> <p><strong>ES2021</strong></p> <p>String.prototype.replaceAll()、Promise.any()、WeakRefs、逻辑赋值运算符（<code>a ||= b</code> 同 <code>a || (a = b)</code>，还有<code>&amp;&amp;=</code>、<code>??=</code>）、数字分隔符_(下划线)</p> <p><a href="https://juejin.cn/post/6844903811622912014#heading-35" target="_blank" rel="noopener noreferrer">ES6、ES7、ES8、ES9、ES10新特性一览<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844904080955932679#heading-0" target="_blank" rel="noopener noreferrer">ES2020新特性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6919682252808912904#heading-0" target="_blank" rel="noopener noreferrer">ES2021新特性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="vue和react的不同"><a href="#vue和react的不同" class="header-anchor">#</a> vue和react的不同</h4> <ul><li>监听数据变化的实现原理不同</li></ul> <p>Vue 通过 getter/setter 以及一些函数的劫持，能精确知道数据变化，不需要特别的优化就能达到很好的性能</p> <p>React 默认是通过比较引用的方式进行的，如果不优化（PureComponent/shouldComponentUpdate）可能导致大量不必要的VDOM的重新渲染</p> <ul><li>数据流</li></ul> <p>Vue 组件与DOM之间可以通过 v-model 双向绑定</p> <p>react 组件=&gt;Dom单向数据流，使用onChange/setState()</p> <ul><li><p>Vue组合不同功能的方式是通过 mixin，而在React中通过高阶组件</p></li> <li><p>组件通信</p></li></ul> <p>Vue props/event，provide/inject跨越层级</p> <p>React props传递数据和回调，context跨越层级</p> <ul><li>渲染方式不同</li></ul> <p>React是在组件中通过原生JS实现模板中的常见语法，比如插值，条件，循环等</p> <p>Vue是在template模板中，通过指令比如v-if、v-for来实现</p> <ul><li>vuex 和 redux</li></ul> <p>Vuex 使用 commit-mutations 和 dispatch-actions 提交更新，通过 mapState 或者直接通过 this.$store 来读取数据，在组件内可以用commit和dispatch。</p> <p>redux每个组件都要显式地用 connect 把需要的 props 和 dispatch 连接起来，在组件中只能dispatch。</p> <p>从实现原理上来说，最大的区别是两点：</p> <p>Redux 使用的是不可变数据，而Vuex的数据是可变的。Redux每次都是用新的state替换旧的state，而Vuex是直接修改。</p> <p>Redux 在检测数据变化的时候，是通过 diff 的方式比较差异的，而Vuex其实和Vue的原理一样，是通过 getter/setter来比较的。</p> <h4 id="html5-增加了哪些"><a href="#html5-增加了哪些" class="header-anchor">#</a> html5 增加了哪些</h4> <ul><li>语义化标签</li></ul> <p>例如：header、footer、nav、article、section、aside</p> <p>有利于阅读和维护、有利于SEO搜索引擎识别页面结构、有利于无障碍设备解析</p> <ul><li>表单功能增强</li></ul> <p>input标签多种类型，如：number 类型，可以设置 min 和 max 属性，password 类型，可以设置 minLength 和 maxLength</p> <p>form表单增强，如：通用属性 placeholder、autofocus</p> <ul><li>视频/音频-video/audio</li></ul> <p>媒体标签内部，还可以通过 source 标签来进行多种类型的兼容</p> <ul><li><p>画布 Canvas</p></li> <li><p>拖放</p></li></ul> <p>在拖动目标上触发事件 (源元素):</p> <p>ondragstart - 用户开始拖动元素时触发</p> <p>ondrag - 元素正在拖动时触发</p> <p>ondragend - 用户完成元素拖动后触发</p> <p>释放目标时触发的事件:</p> <p>ondragenter - 当被鼠标拖动的对象进入其容器范围内时触发此事件</p> <p>ondragover - 当某被拖动的对象在另一对象容器范围内拖动时触发此事件</p> <p>ondragleave - 当被鼠标拖动的对象离开其容器范围内时触发此事件</p> <p>ondrop - 在一个拖动过程中，释放鼠标键时触发此事件</p> <ul><li><p>LocalStorage 和 SessionStorage</p></li> <li><p>Web Worker</p></li></ul> <h4 id="let-const-块级作用域"><a href="#let-const-块级作用域" class="header-anchor">#</a> let/const/块级作用域</h4> <p>声明所在的块级作用域内有效，不存在变量提升，存在暂时性死区，不可重复声明，不会绑定全局对象</p> <h4 id="前端优化"><a href="#前端优化" class="header-anchor">#</a> 前端优化</h4> <p>首屏加载优化：</p> <p>webpack 分离打包、mini-xss-extract-plugin、uglifyjs-webpack-plugin、vue-router异步加载、LocalStorage缓存资源、图片压缩/雪碧图、cdn、gzip、link标签的preload（提高优先级，优先加载本页资源）/prefetch（降低优先级，提前加载可能用到的资源）</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/else/optimization.html" target="_blank" rel="noopener noreferrer">首屏加载优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>页面减少回流和重绘</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/browser/render.html" target="_blank" rel="noopener noreferrer">浏览器渲染机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="vue响应式原理"><a href="#vue响应式原理" class="header-anchor">#</a> vue响应式原理</h4> <p>data对象，有一个__ob__属性，对应一个Observer实例，Observer实例会重写data上的每一个属性，并通过闭包保存每个属性各自的dep数组，
而每一个dep数组，收集了这个属性的所有Watcher观察者实例，而每一个观察者实例各自有一个deps依赖集，反向收集闭包的dep。</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//为true属性才会出现在对象的枚举属性中即被for...in 或 Object.keys 方法枚举到。默认为false。</span>
  configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//为true该属性的描述符才能够被改变，同时该属性也能从对应的对象上被删除。默认为false。</span>
  writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//为true时，属性的值value才能被赋值运算符改变。默认为false。</span>
  value<span class="token operator">:</span> <span class="token string">&quot;static&quot;</span><span class="token punctuation">,</span> <span class="token comment">//该属性对应的值。可以是任何有效的JavaScript值（数值，对象，函数等）。默认为undefined。</span>
  <span class="token comment">// get、set</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="https://jiuto.github.io/jiuto_blog/guide/vue/responsive.html" target="_blank" rel="noopener noreferrer">简单实现vue响应式原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/vue/initData.html" target="_blank" rel="noopener noreferrer">源码分析vue响应式原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="vue生命周期"><a href="#vue生命周期" class="header-anchor">#</a> vue生命周期</h4> <p>beforeCreate =&gt; created 这个阶段进行数据观测，created可以拿到$data</p> <p>beforeMount =&gt; mounted 这个阶段从 <code>{ { message } } =&gt; 真实内容</code>，添加$el</p> <p>beforeUpdate =&gt; updated</p> <p>beforeDestroy =&gt; destroyed</p> <p>activated =&gt; deactivated</p> <blockquote><p>未完待续</p></blockquote> <h4 id="水平垂直居中"><a href="#水平垂直居中" class="header-anchor">#</a> 水平垂直居中</h4> <p>水平行内：text-align</p> <p>水平块级：margin: 0 auto;、flex、position + transform、position + margin</p> <p>垂直行内：line-height、table-cell + vertical-align</p> <p>垂直块级：flex、position + transform、position + margin、table-cell + vertical-align、伪元素 + content</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/css/center.html" target="_blank" rel="noopener noreferrer">水平居中、垂直居中<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="webpack基础配置"><a href="#webpack基础配置" class="header-anchor">#</a> webpack基础配置</h4> <p>mode、devtool、entry、output、resolve(alias、extensions)、module.rules(babel-loader、style-loader、css-loader、less-loader、less-loader、url-loader)、plugins(html-webpack-plugin、mini-css-extract-plugin)</p> <hr> <h3 id="_4-16-上午到场面试50min-ah"><a href="#_4-16-上午到场面试50min-ah" class="header-anchor">#</a> 4.16 上午到场面试50min AH</h3> <h4 id="回流、重塑"><a href="#回流、重塑" class="header-anchor">#</a> 回流、重塑</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/browser/render.html" target="_blank" rel="noopener noreferrer">浏览器渲染机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="防抖、节流"><a href="#防抖、节流" class="header-anchor">#</a> 防抖、节流</h4> <p>防抖是多次触发重新计时，节流是一定时间内多次触发只执行一次</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/js/debounce_throttle.html" target="_blank" rel="noopener noreferrer">防抖与节流<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="http1-http2"><a href="#http1-http2" class="header-anchor">#</a> http1/http2</h4> <p>http1：可靠传输（TCP可靠传输）、无状态（这里的状态是指通信过程的上下文信息，每次请求都是独立、无关的，默认不需要保留状态信息）、灵活可扩展（语义自有和传输形式多样）、请求-应答（一来一回）</p> <p>http1缺点：队头阻塞导致的网络延迟、无状态导致的http头部过大、明文传输、不支持服务器推送</p> <p>http2（HTTP-SPDY-SSL-TCP）：二进制传输、Header压缩、多路复用、支持服务器推送、安全性提高（https）</p> <p>http2缺点：TCP/TCP+TLS建立连接的延时、丢包重传导致的队头阻塞</p> <p>https：TLS/SSL依赖于三类基本算法：对称加密（数据加密）、非对称加密（身份认证和密钥协商）、散列函数（验证信息完整性）</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/network/http.html" target="_blank" rel="noopener noreferrer">http、https<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="两列定宽中间自适应-圣杯、双飞翼"><a href="#两列定宽中间自适应-圣杯、双飞翼" class="header-anchor">#</a> 两列定宽中间自适应（圣杯、双飞翼）</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/css/layout.html" target="_blank" rel="noopener noreferrer">常见布局<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="背景图旋转实现"><a href="#背景图旋转实现" class="header-anchor">#</a> 背景图旋转实现</h4> <p>定时器 + transform</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">#bg</span> <span class="token punctuation">{</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> cadetblue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> bg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;bg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        bg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'rotate('</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">'deg)'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="同时发起多个请求"><a href="#同时发起多个请求" class="header-anchor">#</a> 同时发起多个请求</h4> <p>Promise.all</p> <h4 id="vue-computed-和-watch-区别"><a href="#vue-computed-和-watch-区别" class="header-anchor">#</a> vue computed 和 watch 区别</h4> <p>需要经过计算获取值，可以使用computed，需要在值发生变化的时候执行回调则用watch。</p> <p>计算属性的结果会被缓存，除非依赖的响应式 property 变化才会重新计算。</p> <p>computed本质是在vue实例上定义一个计算属性同名属性，我们设置的computed的方法是这个属性的get方法，而watch设置的方法是watcher实例的callback回调。</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/vue/initComputed.html" target="_blank" rel="noopener noreferrer">源码分析vue computed<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="如何创建一个没有原型的对象"><a href="#如何创建一个没有原型的对象" class="header-anchor">#</a> 如何创建一个没有原型的对象</h4> <p>Object.create(null)</p> <h4 id="bfc"><a href="#bfc" class="header-anchor">#</a> BFC</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/css/bfc.html" target="_blank" rel="noopener noreferrer">BFC 块格式化上下文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="vuex原理"><a href="#vuex原理" class="header-anchor">#</a> vuex原理</h4> <p>通过applyMixin方法，在vue的beforeCreate生命周期混入一个vuexInit方法，通过该方法初始化或从父组件拿$store，保证全局共用一个store。
Vuex内部新建一个Vue实例vm，通过vm响应式地注册state，并将状态管理的getters注册到vm的computed上。</p> <p><a href="https://jiuto.github.io/jiuto_blog/guide/vue/vuex.html" target="_blank" rel="noopener noreferrer">源码阅读vuex<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="需要大屏经验-three、d3"><a href="#需要大屏经验-three、d3" class="header-anchor">#</a> 需要大屏经验 three、d3</h4> <hr> <h3 id="_4-16-下午到场笔试-15min面试-kh"><a href="#_4-16-下午到场笔试-15min面试-kh" class="header-anchor">#</a> 4.16 下午到场笔试+15min面试 KH</h3> <h4 id="promise的三种状态"><a href="#promise的三种状态" class="header-anchor">#</a> promise的三种状态</h4> <p>pending（进行中）、fulfilled（已成功）、rejected（已失败）</p> <p>状态只有两种转变可能，从pending到fulfilled，或者从pending到rejected。</p> <h4 id="cookie、sessionstorage、localstorage"><a href="#cookie、sessionstorage、localstorage" class="header-anchor">#</a> cookie、sessionStorage、localStorage</h4> <p><strong>使用</strong></p> <p><code>document.cookie</code></p> <p><code>sessionStorage.setItem(name,value);</code>、<code>sessionStorage.getItem(name);</code>、<code>sessionStorage.removeItem(name);</code>、
<code>sessionStorage.valueOf();</code>、<code>sessionStorage.属性名</code>、<code>sessionStorage.clear();</code></p> <p>localStorage同sessionStorage</p> <p><strong>cookie</strong></p> <p>可设置失效时间，默认关闭浏览器失效；可存放4KB左右数据；会携带在HTTP头中；</p> <p><strong>localStorage</strong></p> <p>除非被手动清除，否则永久保存；可保存5MB数据；不参与通信，仅存于客户端；</p> <p><strong>sessionStorage</strong></p> <p>仅在当前会话有效；可保存5MB数据；不参与通信，仅存于客户端；</p> <hr> <h3 id="_4-16-下午到场面试四轮-hlw"><a href="#_4-16-下午到场面试四轮-hlw" class="header-anchor">#</a> 4.16 下午到场面试四轮 HLW</h3> <h4 id="vue-的-data-为什么要写return"><a href="#vue-的-data-为什么要写return" class="header-anchor">#</a> vue 的 data 为什么要写return</h4> <blockquote><p>当一个组件被定义，data 必须声明为返回一个初始数据对象的函数，因为组件可能被用来创建多个实例。
如果 data 仍然是一个纯粹的对象，则所有的实例将共享引用同一个数据对象！
通过提供 data 函数，每次创建一个新实例后，我们能够调用 data 函数，从而返回初始数据的一个全新副本数据对象。</p></blockquote> <h4 id="vue3-0"><a href="#vue3-0" class="header-anchor">#</a> vue3.0</h4> <p>组合式API(Vue3 composion api,VCA)（setup、ref响应式引用）、生命周期（on+Hook名，接收回调）、watch、computed、v-model、Teleport 组件、对v-if/v-else自动生成key...</p> <p>底层优化：proxy、静态提升（把一些静态的不会变的节点用变量缓存起来，提供下次 re-render 直接调用。如果没有做这个动作，当 render 重新执行时，即使标签是静态的，也会被重新创建，这就会产生性能消耗。）</p> <p>基于函数的API有利于支持TypeScript、Tree-shaking。</p> <p><a href="https://juejin.cn/post/6910009240053055496#heading-29" target="_blank" rel="noopener noreferrer">Vue3丨从 5 个维度来讲 Vue3 变化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="data更改为什么视图没有更新"><a href="#data更改为什么视图没有更新" class="header-anchor">#</a> data更改为什么视图没有更新</h4> <p>触发视图更新要通过setter来触发notify。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span>
        obj<span class="token operator">:</span> <span class="token punctuation">{</span>
            text<span class="token operator">:</span> <span class="token string">'hello world'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 以下三种方式不会触发setter</span>
            <span class="token comment">// this.obj.text1 = &quot;hi&quot;;</span>
            <span class="token comment">// Object.assign(this.obj, { text2: &quot;hi&quot; });</span>
            <span class="token comment">// this.obj = Object.assign(this.obj, { text3: &quot;hi&quot; });</span>
            <span class="token comment">// obj更改，但视图不会更改</span>
            <span class="token comment">// console.log(this.obj); </span>
            
            <span class="token comment">// 重写对象，触发setter</span>
            <span class="token comment">// this.obj = {</span>
            <span class="token comment">//     ...this.obj,</span>
            <span class="token comment">//     text4:'hi'</span>
            <span class="token comment">// }</span>

            <span class="token comment">// 触发setter</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span><span class="token string">'text5'</span><span class="token punctuation">,</span><span class="token string">'hi'</span><span class="token punctuation">)</span>

            <span class="token comment">// 以下两种方式不会触发setter</span>
            <span class="token comment">// this.arr[0] = 4</span>
            <span class="token comment">// this.arr[3] = 3</span>
            <span class="token comment">// arr更改，但视图不会更改</span>
            <span class="token comment">// console.log(this.arr);</span>

            <span class="token comment">// 重写数组，触发setter</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="vue如何重写7个数组"><a href="#vue如何重写7个数组" class="header-anchor">#</a> vue如何重写7个数组</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arrayProto <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
<span class="token keyword">export</span> <span class="token keyword">const</span> arrayMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>arrayProto<span class="token punctuation">)</span>

<span class="token keyword">const</span> methodsToPatch <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'push'</span><span class="token punctuation">,</span>
  <span class="token string">'pop'</span><span class="token punctuation">,</span>
  <span class="token string">'shift'</span><span class="token punctuation">,</span>
  <span class="token string">'unshift'</span><span class="token punctuation">,</span>
  <span class="token string">'splice'</span><span class="token punctuation">,</span>
  <span class="token string">'sort'</span><span class="token punctuation">,</span>
  <span class="token string">'reverse'</span>
<span class="token punctuation">]</span>
<span class="token comment">// 重写了上述七个数组方法，使得使用这七个方法改变数组能够触发notify方法发布通知以便更新视图</span>
methodsToPatch<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> original <span class="token operator">=</span> arrayProto<span class="token punctuation">[</span>method<span class="token punctuation">]</span>
  <span class="token function">def</span><span class="token punctuation">(</span>arrayMethods<span class="token punctuation">,</span> method<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mutator</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__ob__
    <span class="token keyword">let</span> inserted
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'push'</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token string">'unshift'</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">'splice'</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inserted<span class="token punctuation">)</span> ob<span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>inserted<span class="token punctuation">)</span>
    ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">observeArray</span> <span class="token punctuation">(</span><span class="token parameter">items<span class="token operator">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">observe</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>push/unshift/splice能够向数组添加新的值，对新添加的值遍历执行observe方法，增加一个Observer实例。</p> <p>同时每个方法都要触发notify发布通知观察者更新。</p> <h4 id="平时aixos怎么封装-怎么处理状态码"><a href="#平时aixos怎么封装-怎么处理状态码" class="header-anchor">#</a> 平时aixos怎么封装，怎么处理状态码</h4> <p><a href="https://github.com/Jiuto/jiuto_axios" target="_blank" rel="noopener noreferrer">jiuto_axios<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>使用拦截器</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'timeout'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'-1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'warning'</span><span class="token punctuation">,</span> <span class="token string">'请求超时'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Network'</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'-1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'warning'</span><span class="token punctuation">,</span> <span class="token string">'网段不在服务器的开放的网段内'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token number">400</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'请求错误'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">401</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'未授权，请登录'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">403</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'拒绝访问'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">404</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'请求地址出错'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">408</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'请求超时'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">500</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'服务器内部错误'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">501</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'服务未实现'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">502</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'网关错误'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">503</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'服务不可用'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">504</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'网关超时'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">case</span> <span class="token number">505</span><span class="token operator">:</span>
                <span class="token function">handleMessage</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'HTTP版本不受支持'</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
                <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="vuex使用"><a href="#vuex使用" class="header-anchor">#</a> vuex使用</h4> <p>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation ， mutation 必须是同步函数，通过 commit 触发。</p> <p>更新视图同样需要使用<code>Vue.set</code>，需要用新对象替换老对象。</p> <p>Action 提交的是 mutation，而不是直接变更状态， Action 可以包含任意异步操作， Action 通过 store.dispatch 方法触发。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">SOME_MUTATION</span> <span class="token operator">=</span> <span class="token string">'SOME_MUTATION'</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token constant">SOME_MUTATION</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> payload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 变更状态</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
      <span class="token comment">// 其他传递的参数 { num: 10 }</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象（但它不是 store 本身），因此你可以调用 context.commit 提交一个 mutation，或者通过 context.state 和 context.getters 来获取 state 和 getters。</span>
    <span class="token function">actionA</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SOME_MUTATION'</span><span class="token punctuation">)</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 可以搭配 async / await</span>
    <span class="token keyword">async</span> <span class="token function">actionB</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'actionA'</span><span class="token punctuation">)</span> <span class="token comment">// 等待 actionA 完成</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'gotOtherData'</span><span class="token punctuation">,</span> <span class="token keyword">await</span> <span class="token function">getOtherData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'SOME_MUTATION'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> num<span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'SOME_MUTATION'</span><span class="token punctuation">,</span>
  num<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'actionA'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="https://vuex.vuejs.org/zh/guide/state.html" target="_blank" rel="noopener noreferrer">Vuex<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="scoped"><a href="#scoped" class="header-anchor">#</a> scoped</h4> <p>在style标签上加上scoped属性，实现标签内的样式仅在当前模板输出的HTML标签上生效。</p> <blockquote><ul><li>每个Vue文件都将对应一个唯一的id，该id可以根据文件路径名和内容hash生成</li> <li>编译template标签时时为每个标签添加了当前组件的id，如<div class="demo"></div>会被编译成<div data-v-27e4e96e="" class="demo"></div></li> <li>编译style标签时，会根据当前组件的id通过属性选择器和组合选择器输出样式，如.demo{color: red;}会被编译成.demo[data-v-27e4e96e]{color: red;}</li></ul> <p>( 涉及vue-loader相关源码，引自<a href="https://juejin.cn/post/6844903949900742670" target="_blank" rel="noopener noreferrer">从vue-loader源码分析CSS Scoped的实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。)</p></blockquote> <h4 id="直接打开url怎么做"><a href="#直接打开url怎么做" class="header-anchor">#</a> 直接打开url怎么做</h4> <p>在路由守卫beforeEach中判断token与白名单</p> <h4 id="promise如何从resolve到reject"><a href="#promise如何从resolve到reject" class="header-anchor">#</a> promise如何从resolve到reject</h4> <p>resolve(new Error('error'))</p> <h4 id="给console对象增加一个log1方法"><a href="#给console对象增加一个log1方法" class="header-anchor">#</a> 给console对象增加一个log1方法</h4> <p>console.prototype.log1 = function (){}</p> <h4 id="需要状态码调试经验"><a href="#需要状态码调试经验" class="header-anchor">#</a> 需要状态码调试经验</h4> <hr> <h3 id="_4-19-下午到场两轮两小时技术面-gwg"><a href="#_4-19-下午到场两轮两小时技术面-gwg" class="header-anchor">#</a> 4.19 下午到场两轮两小时技术面 GWG</h3> <blockquote><p>重复问题：水平/垂直居中、ES6、promise、vue生命周期、vue3.0、性能优化、http协议、VirtualDOM作用和优点</p></blockquote> <h4 id="说一下flex布局"><a href="#说一下flex布局" class="header-anchor">#</a> 说一下flex布局</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/css/flex.html" target="_blank" rel="noopener noreferrer">flex布局<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="在循环里使用promise"><a href="#在循环里使用promise" class="header-anchor">#</a> 在循环里使用promise</h4> <p>在循环中把promise保存到数组里，循环外使用Promise.all()传入数组</p> <h4 id="浏览器渲染原理"><a href="#浏览器渲染原理" class="header-anchor">#</a> 浏览器渲染原理</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/browser/render.html" target="_blank" rel="noopener noreferrer">浏览器渲染机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <h3 id="_4-22-下午50min视频面试-coding-zj"><a href="#_4-22-下午50min视频面试-coding-zj" class="header-anchor">#</a> 4.22 下午50min视频面试+coding ZJ</h3> <h4 id="给多个li增加事件处理程序-如果有加载更多-怎么做其他li的事件绑定"><a href="#给多个li增加事件处理程序-如果有加载更多-怎么做其他li的事件绑定" class="header-anchor">#</a> 给多个li增加事件处理程序，如果有加载更多，怎么做其他li的事件绑定</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 用jquery的on方法</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token string">'li'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 遍历挨个儿绑定</span>
    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        lis <span class="token operator">=</span> ul<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> li <span class="token operator">=</span> lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        li<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 通过冒泡，给父元素绑定事件处理程序</span>
    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ul<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token comment">// li ie用 event.srcElement</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span> <span class="token comment">// ul ie没有这个属性</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="vue-和-react-事件委托"><a href="#vue-和-react-事件委托" class="header-anchor">#</a> vue 和 react 事件委托</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        el<span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/babel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> element <span class="token operator">=</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>ul onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token number">4</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span> 
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
        element<span class="token punctuation">,</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="document-queryselectorall-div-返回的是什么-怎么遍历"><a href="#document-queryselectorall-div-返回的是什么-怎么遍历" class="header-anchor">#</a> document.querySelectorAll(&quot;div&quot;)，返回的是什么，怎么遍历</h4> <p>NodeList对象，for循环遍历、<code>Array.prototype.slice.call(nodeList)</code>、<code>Array.from(nodeList)</code></p> <h4 id="http2有哪些特点-这些特点有哪些应用"><a href="#http2有哪些特点-这些特点有哪些应用" class="header-anchor">#</a> http2有哪些特点，这些特点有哪些应用</h4> <p>服务端推送</p> <blockquote><p>未完待续</p></blockquote> <h4 id="讲一下-virtualdom-有什么优点-除了浏览器还在哪些方面有应用"><a href="#讲一下-virtualdom-有什么优点-除了浏览器还在哪些方面有应用" class="header-anchor">#</a> 讲一下 VirtualDOM ，有什么优点，除了浏览器还在哪些方面有应用</h4> <p>VirtualDOM 是根据真实的DOM节点树，抽象出来的一棵用 JavaScript 对象描述节点的抽象树。</p> <ol><li><p>通过 VirtualDOM ，可以对比前后节点变化了哪些变化，做到局部更新视图，减少 DOM 操作。
Virtual DOM的优势不在于单次的操作，而是在大量、频繁的数据更新下，能够对视图进行合理、高效的更新。</p></li> <li><p>由于 Virtual DOM 是以 JavaScript 对象为基础而不依赖真实平台环境，所以使它具有了跨平台的能力，比如说浏览器平台、Weex、Node 等。</p></li></ol> <p>vue-server-renderer服务端渲染、WEEX（可以使用 JavaScript 语言和前端开发经验来开发移动应用）。</p> <h4 id="数组降维-去重-排序-从大到小"><a href="#数组降维-去重-排序-从大到小" class="header-anchor">#</a> 数组降维+去重+排序（从大到小）</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
    arr1<span class="token punctuation">;</span>
<span class="token comment">// 降维</span>

<span class="token comment">// 方法一 递归</span>

<span class="token comment">// 方法二 Array.prototype.concat.apply([], arr)</span>
arr1 <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回新数组 [22, 33, 11, 55, 33, 6, 7, 8, 9, 6]</span>

<span class="token comment">// 方法三 arr.flat()</span>
arr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回新数组 [22, 33, 11, 55, 33, 6, 7, 8, 9, 6]</span>

<span class="token comment">// 去重</span>

<span class="token comment">// 方法一 两层for循环</span>

<span class="token comment">// 方法二 一层for循环+一层indexOf</span>

<span class="token comment">// 方法三 先排序再for循环 比较相邻两个值是否相等</span>

<span class="token comment">// 方法四 filter+indexOf</span>
arr1 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// indexOf 返回首个匹配的下标，filter 返回新数组， [22, 33, 11, 55, 6, 7, 8, 9]</span>

<span class="token comment">// 方法五 先排序再filter</span>
arr1 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">!</span>index <span class="token operator">||</span> item <span class="token operator">!==</span> array<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// sort 对原数组排序，filter 返回新数组， [6, 7, 8, 9, 11, 22, 33, 55]</span>

<span class="token comment">// 方法六 Object键值对+filter</span>

<span class="token comment">// 方法七 Set+Array.from</span>
arr1 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 返回新数组 [22, 33, 11, 55, 6, 7, 8, 9]</span>
arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// 简化 [22, 33, 11, 55, 6, 7, 8, 9]</span>

<span class="token comment">// 方法八 Map+filter</span>
<span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
arr1 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [22, 33, 11, 55, 6, 7, 8, 9]</span>

<span class="token comment">// 排序</span>

<span class="token comment">// sort+reverse</span>
arr1<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [6, 7, 8, 9, 11, 22, 33, 55]</span>

<span class="token comment">// 各种排序算法</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span>
</code></pre></div><h4 id="xmlhttprequest-和-fetch"><a href="#xmlhttprequest-和-fetch" class="header-anchor">#</a> XMLHttpRequest 和 fetch</h4> <p><strong>什么是Ajax</strong></p> <p>Ajax是一种异步请求数据的web开发技术，不需要重新刷新页面，通过Ajax异步请求加载后台数据，进行局部更新。</p> <p><strong>Ajax原理</strong></p> <p>依赖浏览器提供的XMLHttpRequest对象，让浏览器异步发起或接收HTTP请求，期间浏览器做其他事情，等收到XHR响应再渲染页面。</p> <p><strong>XMLHttpRequest和fetch的使用</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// XMLHttpRequest</span>
<span class="token keyword">let</span> xhr<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// IE 6 and older</span>
  xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">'Microsoft.XMLHTTP'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;test.html&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第三个参数 async， true 表示异步， false 表示同步 </span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;fname=Henry&amp;lname=Ford&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState<span class="token operator">==</span><span class="token number">4</span> <span class="token operator">&amp;&amp;</span>xhr<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span> 
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
<span class="token comment">/** readyState：
 * 0：未初始化 -- 尚未调用.open()方法；
 * 1：启动 -- 已经调用.open()方法，但尚未调用.send()方法；
 * 2：发送 -- 已经调用.send()方法，但尚未接收到响应；
 * 3：接收 -- 已经接收到部分响应数据；
 * 4：完成 -- 已经接收到全部响应数据，而且已经可以在客户端使用了；
*/</span>

<span class="token comment">// fetch 使用 Promise 语法结构</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/users.json'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    method<span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span> 
    mode<span class="token operator">:</span> <span class="token string">'no-cors'</span><span class="token punctuation">,</span> <span class="token comment">// 跨域配置</span>
    data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> r<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>$.ajax、axios、XMLHttpRequest和fetch的区别</strong></p> <p>$.ajax 和 axios 是对 XMLHttpRequest 的封装， fetch 是底层API，可以代替XHR。</p> <blockquote><ul><li>fetch只对网络请求报错，对400，500都当做成功的请求，需要封装去处理</li> <li>fetch默认不会带cookie，需要添加配置项。</li> <li>fetch不支持abort，不支持超时控制，使用setTimeout及Promise.reject的实现超时控制并不能阻止请求过程继续在后台运行，造成了流量的浪费。</li> <li>fetch没有办法原生监测请求的进度，而XHR可以。</li></ul></blockquote> <h4 id="service-worker-是什么"><a href="#service-worker-是什么" class="header-anchor">#</a> service worker 是什么</h4> <blockquote><p>Service workers 本质上充当 Web 应用程序、浏览器与网络（可用时）之间的代理服务器。<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API" target="_blank" rel="noopener noreferrer">Service Worker API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h4 id="网络工具怎么封装的"><a href="#网络工具怎么封装的" class="header-anchor">#</a> 网络工具怎么封装的</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span><span class="token punctuation">;</span>

<span class="token comment">//对axios的配置</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
axios<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>post<span class="token punctuation">[</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;application/json;charset=UTF-8&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @param {*} url
 * 使用get
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">baseGet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> config<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>method <span class="token operator">=</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">;</span>
    config<span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">base</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @param {*} url
 * @param {*} data
 * 使用post
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">basePost</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>method <span class="token operator">=</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">;</span>
    config<span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
    config<span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">base</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 请求基础配置
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">base</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>config<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token comment">//取消请求</span>
    <span class="token keyword">const</span> CancelToken <span class="token operator">=</span> axios<span class="token punctuation">.</span>CancelToken<span class="token punctuation">;</span>
    <span class="token keyword">let</span> cancel<span class="token punctuation">;</span>
    config<span class="token punctuation">.</span>cancelToken <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CancelToken</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">executor</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cancel <span class="token operator">=</span> c<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//返回结果</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        error<span class="token punctuation">.</span>message <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>msg <span class="token operator">=</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    res<span class="token punctuation">.</span>cancel <span class="token operator">=</span> cancel<span class="token punctuation">;</span>

    <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> axios
</code></pre></div><h4 id="了解过reactnative吗"><a href="#了解过reactnative吗" class="header-anchor">#</a> 了解过reactNative吗</h4> <blockquote><p>使用 React 来创建 Android 和 iOS 的原生应用</p></blockquote> <h4 id="用户缓存怎么做的-有什么办法优化"><a href="#用户缓存怎么做的-有什么办法优化" class="header-anchor">#</a> 用户缓存怎么做的，有什么办法优化</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> defaultValue <span class="token operator">=</span> <span class="token punctuation">{</span>
  currentPage<span class="token operator">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span>
  tagAry<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  subCurrentPage<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  activeIndex<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  menuList<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  token<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  uids<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  uname<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  userid<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  ucompany<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  logStatus<span class="token operator">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span><span class="token comment">//登录: login  登出: logOut mock:mock</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> value <span class="token operator">=</span> window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> initValue <span class="token operator">=</span> defaultValue<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">''</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      value <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      value <span class="token operator">=</span> initValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    value <span class="token operator">=</span> initValue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> token <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> uids <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;uids&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> uname <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;uname&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> userid <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">'userid'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> ucompany <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">'ucompany'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> currentPage <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;currentPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tagAry <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;tagAry&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> subCurrentPage <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;subCurrentPage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> activeIndex <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;activeIndex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> menuList <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;menuList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> logStatus <span class="token operator">=</span> <span class="token function">getStorageValue</span><span class="token punctuation">(</span><span class="token string">&quot;logStatus&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> localStorage <span class="token operator">=</span> <span class="token punctuation">{</span>
  state<span class="token operator">:</span> <span class="token punctuation">{</span>
    token<span class="token punctuation">,</span>
    <span class="token comment">//用户账号</span>
    uids<span class="token punctuation">,</span>
    <span class="token comment">//用户名</span>
    uname<span class="token punctuation">,</span>
    <span class="token comment">//用户id</span>
    userid<span class="token punctuation">,</span>
    <span class="token comment">//用户公司</span>
    ucompany<span class="token punctuation">,</span>
    <span class="token comment">//导航条高亮</span>
    currentPage<span class="token punctuation">,</span>
    <span class="token comment">//tag导航数组</span>
    tagAry<span class="token punctuation">,</span>
    <span class="token comment">//tag条高亮</span>
    subCurrentPage<span class="token punctuation">,</span>
    <span class="token comment">//侧边栏高亮</span>
    activeIndex<span class="token punctuation">,</span>
    <span class="token comment">//侧边栏</span>
    menuList<span class="token punctuation">,</span>
    <span class="token comment">//登录状态</span>
    logStatus<span class="token punctuation">,</span>
    <span class="token comment">//判断浏览器</span>
    browser<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//设置本地存储</span>
    <span class="token string">'SET_SESSIONSTORAGE'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> content <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      state<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> content<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//移除本地存储</span>
    <span class="token string">'REMOVE_SESSIONSTORAGE'</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">==</span> <span class="token string">&quot;tagAry&quot;</span> <span class="token operator">||</span> name <span class="token operator">==</span> <span class="token string">&quot;menuList&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> defaultValue<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> localStorage<span class="token punctuation">;</span>
</code></pre></div><p>可以让后端通过cookie中的token自己获取用户信息，避免所有需要校验用户的接口都要带用户id。</p> <h4 id="讲一下http缓存-除了http缓存-还有哪些缓存"><a href="#讲一下http缓存-除了http缓存-还有哪些缓存" class="header-anchor">#</a> 讲一下http缓存，除了http缓存，还有哪些缓存</h4> <ul><li><p><a href="https://jiuto.github.io/jiuto_blog/guide/network/cache.html" target="_blank" rel="noopener noreferrer">浏览器缓存<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>cookie、sessionStorage、localStorage</p></li></ul> <h4 id="你知道哪些排序算法"><a href="#你知道哪些排序算法" class="header-anchor">#</a> 你知道哪些排序算法</h4> <p>冒泡排序、选择排序、插入排序、快速排序、希尔排序</p> <p><a href="https://juejin.cn/post/6844903656865677326#heading-8" target="_blank" rel="noopener noreferrer">前端笔试&amp;面试爬坑系列---算法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <hr> <h3 id="_4-22-晚上37min电话面试-al"><a href="#_4-22-晚上37min电话面试-al" class="header-anchor">#</a> 4.22 晚上37min电话面试 AL</h3> <blockquote><p>重复问题：水平/垂直居中、vue3.0、响应式原理、ES6</p></blockquote> <h4 id="vue响应式原理之后-如何更新页面"><a href="#vue响应式原理之后-如何更新页面" class="header-anchor">#</a> vue响应式原理之后，如何更新页面</h4> <p>渲染Watcher执行<code>update-&gt;run-&gt;get</code>，调用了<code>vm._update-&gt;vm.__patch__-&gt;patch</code>。</p> <p>节点相同判断通过sameVnode方法。</p> <p>patch：</p> <ul><li>新节点不存在，则销毁旧节点，结束patch；</li> <li>旧节点不存在，则创建新节点；</li> <li>旧节点存在且新旧相同，进行patchVnode；</li> <li>旧节点存在且新旧不同，创建新节点；</li></ul> <p>patchVnode：</p> <ul><li>新节点有文本节点，且与旧文本节点不同，则替换文本；</li> <li>新节点不存在文本节点：</li> <li>都有子节点且子节点不同，进行updateChildren；</li> <li>仅新节点有子节点，增加节点；</li> <li>仅旧节点有子节点，删除节点；</li> <li>均无子节点，清空文本；</li></ul> <p>updateChildren：</p> <ul><li>首首、尾尾、首尾、尾首比较；</li> <li>上述四种不匹配，则查找相同key，没找到则新增节点；</li> <li>找到相同key但节点不同，则新增节点；</li> <li>找到相同key但节点相同，则移动；</li> <li>直到新节点列表或旧节点列表有一个遍历完，对多余的旧节点进行删除，新节点进行增加；</li></ul> <p><a href="https://jiuto.github.io/jiuto_blog/guide/vue/patch.html" target="_blank" rel="noopener noreferrer">源码阅读vue VirtualDOM 和 diff<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="webpack构建流程"><a href="#webpack构建流程" class="header-anchor">#</a> webpack构建流程</h4> <ol><li><p>从配置文件和Shell语句中读取与合并参数，根据参数初始化compiler对象，加载插件</p></li> <li><p>执行compiler对象的run方法开始执行编译，每一次新的编译都会实例化一个compilation对象，记录本次编译的基本信息，进入make hook（生成modules）</p></li> <li><p>通过compilation.addEntry，找到配置中的entry找出所有的入口文件，从入口文件出发，递归找出依赖的依赖</p></li> <li><p>通过loader将依赖转换成标准的js，通过Parser.parse再转换成AST，解析成AST最大作用就是收集模块依赖关系，webpack会遍历AST对象将依赖记录在module.dependencies，最后遍历module.dependencies解析依赖生成module，make阶段结束，得到项目所依赖的所有modules</p></li> <li><p>执行compilation.seal方法生成chunks，把entry中对应的每个module都生成一个新的chunk，遍历module.dependencies，将其依赖的模块也加入到上一步生成的chunk中，若某个module是动态引入的，为其创建一个新的chunk，接着遍历依赖</p></li> <li><p>遍历chunk，生成源码，调用emitAsset将其存在compilation.assets（最终的文件列表），compilation.seal结束，compilation结束</p></li> <li><p>进入emit hook，这是修改最终文件的最后一个机会</p></li> <li><p>遍历 compilation.assets 生成所有文件，然后触发钩子done，结束构建流程。</p></li></ol> <p>简单地说：</p> <ol><li><p>读取与合并配置参数，加载 Plugin，实例化 Compiler</p></li> <li><p>从 Entry 出发，用 Loader 翻译每个Module，递归地进行编译处理并得到依赖关系</p></li> <li><p>将编译后的 Module 组合成 Chunk，将 Chunk 转换成文件，输出到文件系统中</p></li></ol> <p><a href="https://juejin.cn/post/6844904094281236487#heading-3" target="_blank" rel="noopener noreferrer">吐血整理」再来一打Webpack面试题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903987129352206#heading-6" target="_blank" rel="noopener noreferrer">Webpack源码解读：理清编译主流程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844904000169607175#heading-15" target="_blank" rel="noopener noreferrer">webpack构建流程分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="数组求和-实现一个function-getindex-arr-sum-找出数组中和为sum的下标"><a href="#数组求和-实现一个function-getindex-arr-sum-找出数组中和为sum的下标" class="header-anchor">#</a> 数组求和：实现一个function getIndex(arr,sum)，找出数组中和为sum的下标</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getIndex</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span>sum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> target <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>sum<span class="token operator">-</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>target <span class="token operator">&amp;&amp;</span> target <span class="token operator">!==</span> i<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span>target<span class="token punctuation">,</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 2,4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getIndex</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3,4</span>
</code></pre></div><h4 id="git-add-commit-push前后的回滚操作-以及回滚后提交记录的变化"><a href="#git-add-commit-push前后的回滚操作-以及回滚后提交记录的变化" class="header-anchor">#</a> git add/commit/push前后的回滚操作，以及回滚后提交记录的变化</h4> <ul><li><p>修改 commit ，<code>git commit --amend</code>进入vim编辑器，可修改commit注释</p></li> <li><p>add 前，<code>git checkout -- &lt;file&gt;</code>撤销上一次对文件的操作</p></li> <li><p>add 后 commit 前，<code>git reset HEAD &lt;file&gt;</code></p></li> <li><p>add + commit 后 push 前：<code>git reset --soft HEAD^</code></p></li></ul> <blockquote><ul><li><code>HEAD^</code>表示上一个版本，即上一次的commit，也可以写成<code>HEAD~1</code>，如果要撤回两次commit，可以使用<code>HEAD~2</code>。</li> <li><code>--soft</code>不删除工作空间改动代码 ，撤销commit，不撤销add</li> <li><code>--hard</code>删除工作空间改动代码，撤销commit且撤销add</li></ul></blockquote> <ul><li>push 后，执行<code>git log</code>查看日志，找到版本号</li></ul> <ol><li><p><code>git reset --hard 版本号</code>(回退到目标记录) + <code>git push origin master --force</code>(回退后记录比远程靠前，要--force)</p></li> <li><p><code>git revert -n 版本号</code>(revert会生成新的记录，而不是回到目标记录，-n表示--no-commit，如果不带这个参数会自动提交一条commit) + <code>git push</code></p></li></ol> <hr> <h3 id="_4-25-晚上76min视频面试-coding-ks"><a href="#_4-25-晚上76min视频面试-coding-ks" class="header-anchor">#</a> 4.25 晚上76min视频面试+coding KS</h3> <blockquote><p>重复问题：水平/垂直居中、BFC、浏览器缓存、let/const</p></blockquote> <h4 id="盒模型"><a href="#盒模型" class="header-anchor">#</a> 盒模型</h4> <p>content+padding+border+margin</p> <p>border-box：content+padding+border</p> <p>content-box：content</p> <h4 id="flex-1-是什么的简写"><a href="#flex-1-是什么的简写" class="header-anchor">#</a> flex:1 是什么的简写</h4> <p>flex属性是flex-grow（放大）, flex-shrink（缩小） 和 flex-basis（定义在分配多余空间之前，元素占据的主轴空间）的简写</p> <p>flex: 1 === flex: 1 1 0</p> <h4 id="rem、em、100-、vm"><a href="#rem、em、100-、vm" class="header-anchor">#</a> rem、em、100%、vm</h4> <p>rem：参考根元素font-size</p> <p>em：参考物父元素font-size</p> <p>%：参考父元素百分比</p> <p>vh：参考视口高度均分100份</p> <p>vw：参考视口宽度均分100份</p> <p>vm：参考视口宽高中较小值来均分100份</p> <h4 id="基本数据类型有哪些"><a href="#基本数据类型有哪些" class="header-anchor">#</a> 基本数据类型有哪些</h4> <p>String、Number、Boolean、Null、Undefined、Symbol、BigInt</p> <h4 id="对象类型判断"><a href="#对象类型判断" class="header-anchor">#</a> 对象类型判断</h4> <p>如何判断一个array类型？</p> <p><code>Object.prototype.toString.call([])</code>、<code>[] instanceof Array</code>、<code>[].constructor</code>、<code>Array.isArray([])</code></p> <p>typeof [] 返回什么：object</p> <h4 id="new操作符做了什么"><a href="#new操作符做了什么" class="header-anchor">#</a> new操作符做了什么</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/js/new.html" target="_blank" rel="noopener noreferrer">手写 new 操作符<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li>得到一个新的Object的实例</li> <li>实例的方法this指向这个实例本身</li> <li>每个实例的__proto__指向构造函数的原型对象</li> <li>当return 一个Object/Function/Array/Date/RegExp/Error的实例，new操作符得到的就是return的结果</li></ol> <p><code>typeof new String(1)</code> 返回什么：object</p> <p><code>typeof String(1)</code> 返回什么：string</p> <p>为什么可以这样调用substr？</p> <p><code>new String(1).substr()</code></p> <p>因为 new 让实例的__proto__指向了String.prototype</p> <p><code>String(1).substr()</code></p> <p>js中有三个基本包装类型：String、Number、Boolean，每当读取一个基本类型的时候，后台就会创建一个对应的基本包装类型对象，从而让我们能够调用一些方法来操作这些数据。（装箱）</p> <p>（拆箱：valueOf()方法和toString()方法）</p> <h4 id="如何使对象属性不可改"><a href="#如何使对象属性不可改" class="header-anchor">#</a> 如何使对象属性不可改</h4> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;key&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//为true属性才会出现在对象的枚举属性中即被for...in 或 Object.keys 方法枚举到。默认为false。</span>
  configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//为true该属性的描述符才能够被改变，同时该属性也能从对应的对象上被删除。默认为false。</span>
  writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//为true时，属性的值value才能被赋值运算符改变。默认为false。</span>
  value<span class="token operator">:</span> <span class="token string">&quot;val&quot;</span><span class="token punctuation">,</span> <span class="token comment">//该属性对应的值。可以是任何有效的JavaScript值（数值，对象，函数等）。默认为undefined。</span>
  <span class="token comment">// get、set</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="margin合并"><a href="#margin合并" class="header-anchor">#</a> margin合并</h4> <p>在CSS中，两个相邻的盒子会存在外边距margin合并的现象：</p> <ol><li>margin合并的前提：</li></ol> <ul><li><p>外边距合并只出现在两个紧紧相邻的盒子(父子关系或兄弟关系)，如果两个盒子间存在border或padding则无法合并</p></li> <li><p>外边距合并只发生在普通文档流中垂直方向上相邻的块级元素，而水平方向上的两个相邻的盒子则不会发生外边距合并</p></li></ul> <ol start="2"><li>两个盒子外边距合并后的实际边距：</li></ol> <ul><li><p>两个盒子的margin均为正值，外边距合并后的实际边距为二者中较大的值</p></li> <li><p>两个盒子的margin均为负值，外边距合并后实际边距为二者中较小的值</p></li> <li><p>两个盒子的margin一个为正值、一个为负值，外边距合并后实际边距为二者之和</p></li></ul> <h4 id="行内元素的padding、margin"><a href="#行内元素的padding、margin" class="header-anchor">#</a> 行内元素的padding、margin</h4> <p>padding四个方向生效，margin左右生效</p> <h4 id="for-in、for-of、object-keys区别"><a href="#for-in、for-of、object-keys区别" class="header-anchor">#</a> for in、for of、Object.keys区别</h4> <p>for in 可以遍历对象，拿到属性名，可以遍历数组，拿到下标，for of 只能遍历数组，拿到值，Object.keys返回对象属性名数组</p> <h4 id="for-in-能不能遍历原型"><a href="#for-in-能不能遍历原型" class="header-anchor">#</a> for in 能不能遍历原型</h4> <blockquote><p>for...in语句以任意顺序遍历一个对象的除Symbol以外的可枚举属性。</p></blockquote> <p>for in 可以遍历原型，要拿自身对象可以搭配使用hasOwnProperty</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> triangle <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ColoredTriangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">ColoredTriangle</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> triangle<span class="token punctuation">;</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColoredTriangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> prop <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">obj.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/network/cross.html" target="_blank" rel="noopener noreferrer">跨域<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>什么是跨域？ scheme(协议)、host(主机)和port(端口)都相同则为同源。</p> <p>可以跨域的标签有哪些？ <code>&lt;img&gt;</code>、<code>&lt;link&gt;</code>、<code>&lt;script&gt;</code>、<code>&lt;audio&gt;</code>、<code>&lt;video&gt;</code></p> <p>跨域方式有哪些？ CORS、Nginx 反向代理、jsonp</p> <p>CORS怎么做？ 简单请求（<code>Origin</code>不在<code>Access-Control-Allow-Origin</code>）、非简单请求（预检请求）</p> <p>application/json属于哪种？ 非简单请求</p> <p>跨域能携带cookie吗？ <code>Access-Control-Allow-Credentials:true</code>+<code>xhr.withCredentials = true;</code></p> <h4 id="samesite"><a href="#samesite" class="header-anchor">#</a> SameSite</h4> <p><strong>SameSite</strong> 这个属性可以让 Cookie 在<strong>跨站</strong>请求时不会被发送，从而可以阻止跨站请求伪造攻击（CSRF）。</p> <blockquote><p>跨站和跨域是不同的。</p> <p>Cookie中的「同站」判断：
只要两个 URL 的 eTLD+1 相同即可，不需要考虑协议和端口。
其中，eTLD 表示有效顶级域名，注册于 Mozilla 维护的公共后缀列表（Public Suffix List）中，例如，.com、.co.uk、.github.io 等。
eTLD+1 则表示，有效顶级域名+二级域名，例如 taobao.com 等。</p></blockquote> <p>例如：</p> <blockquote><p>www.taobao.com 和 www.baidu.com 是跨站，www.a.taobao.com 和 www.b.taobao.com 是同站，a.github.io 和 b.github.io 是跨站(注意是跨站)。</p></blockquote> <p>SameSite有三种取值：</p> <p><code>Strict</code> 仅允许一方请求携带 Cookie，即浏览器将只发送相同站点请求的 Cookie，即当前网页 URL 与请求目标 URL 完全一致。</p> <p><code>Lax</code> 允许部分第三方请求携带 Cookie</p> <p><code>None</code> 无论是否跨站都会发送 Cookie</p> <p>之前默认是 None 的，Chrome80 后默认是 Lax。</p> <h4 id="事件模型"><a href="#事件模型" class="header-anchor">#</a> 事件模型</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/js/babble_capture.html" target="_blank" rel="noopener noreferrer">冒泡与捕获<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="事件循环"><a href="#事件循环" class="header-anchor">#</a> 事件循环</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/browser/eventloop.html" target="_blank" rel="noopener noreferrer">event loop 事件循环<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="await-async"><a href="#await-async" class="header-anchor">#</a> await/async</h4> <p>await命令后面是一个promise对象，如果不是，会被转换一个立即resolve的promise对象。</p> <p>await 返回的是什么？ resolve的值</p> <p>reject怎么办？ try catch</p> <h4 id="preload-prefetch、defer-async"><a href="#preload-prefetch、defer-async" class="header-anchor">#</a> preload/prefetch、defer/async</h4> <p>preload（提高优先级，优先加载本页资源）、prefetch（降低优先级，提前加载可能用到的资源）</p> <p><code>&lt;link rel=&quot;preload&quot; href=&quot;./app.js&quot; as=&quot;script&quot;&gt;</code> <code>&lt;link rel=&quot;prefetch&quot; href=&quot;./vendor-async.js&quot;&gt;</code></p> <ul><li><code>&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;</code>没有 defer 或 async，浏览器会立即加载并执行指定的脚本，也就是说不等待后续载入的文档元素，读到就加载并执行。</li> <li><code>&lt;script async src=&quot;index.js&quot;&gt;&lt;/script&gt;</code>async 属性表示异步执行引入的 JavaScript，与 defer 的区别在于，如果已经加载好，就会开始执行。</li> <li><code>&lt;script defer src=&quot;index.js&quot;&gt;&lt;/script&gt;</code>defer 属性表示延迟执行js，设置了defer的js加载不会阻塞dom构建，即js加载时HTML并未停止解析，这两个过程是并行的，都完成后才会执行由defer-script加载的脚本。</li> <li>在加载多个JS脚本的时候，async是无顺序的加载，而defer是有顺序的加载。</li></ul> <h4 id="dns-预解析"><a href="#dns-预解析" class="header-anchor">#</a> DNS 预解析</h4> <p>DNS 实现域名到IP的映射，通过域名访问站点，每次请求都要做DNS解析。
在解析过程中，按照浏览器缓存、系统缓存、路由器缓存、ISP(运营商)DNS缓存、根域名服务器、顶级域名服务器、主域名服务器的顺序，逐步读取缓存，直到拿到IP地址。</p> <p>DNS Prefetch 是一种 DNS 预解析技术，浏览器会在加载网页时对网页中的域名进行解析并缓存，当用户单击连接时就无需再进行DNS的解析。</p> <p>Chromium使用超链接的href属性来查找要预解析的主机名。当遇到a标签，Chromium会自动将href中的域名解析为IP地址，这个解析过程是与用户浏览网页并行处理的。
但是为了确保安全性，在HTTPS页面中不会自动解析。</p> <p>手动解析：</p> <p><code>&lt;link rel=&quot;dns-prefetch&quot; href=&quot;http://www.spreadfirefox.com/&quot;&gt;</code></p> <p><code>&lt;meta http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;on&quot;&gt;</code></p> <p>禁用隐式dns预解析：</p> <p><code>&lt;meta http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;off&quot;&gt;</code></p> <h4 id="实现防止重复请求"><a href="#实现防止重复请求" class="header-anchor">#</a> 实现防止重复请求</h4> <p>设一个flag标识。（节流也算一种思路）</p> <h4 id="实现可执行-one-add-two-与two-add-one-的-add、one、two"><a href="#实现可执行-one-add-two-与two-add-one-的-add、one、two" class="header-anchor">#</a> 实现可执行 one(add(two()))与two(add(one())) 的 add、one、two</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">one</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">two</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="_4-26-晚上40min语言面试-wy"><a href="#_4-26-晚上40min语言面试-wy" class="header-anchor">#</a> 4.26 晚上40min语言面试 WY</h3> <blockquote><p>重复问题：响应式原理、vdom diff、git撤销提交、react和vue区别、vuex原理</p></blockquote> <h4 id="多页面打包是怎么配置的"><a href="#多页面打包是怎么配置的" class="header-anchor">#</a> 多页面打包是怎么配置的？</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/webpack/webpack_template.html" target="_blank" rel="noopener noreferrer">webpack多页面打包方法工具和模板<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="v-if和v-show区别-怎么考虑什么时候用哪个"><a href="#v-if和v-show区别-怎么考虑什么时候用哪个" class="header-anchor">#</a> v-if和v-show区别，怎么考虑什么时候用哪个？</h4> <p>v-if 会重新渲染和销毁，v-show 只是样式层面的隐藏。</p> <p>从开闭的频率和初始化两方面考虑。</p> <h4 id="知道哪些可以实现动画效果的方法"><a href="#知道哪些可以实现动画效果的方法" class="header-anchor">#</a> 知道哪些可以实现动画效果的方法？</h4> <ul><li>JavaScript：通过定时器间歇改变元素样式、<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame" target="_blank" rel="noopener noreferrer">window.requestAnimationFrame<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>CSS3：transition、transform、animation；</li> <li>HTML5：canvas、svg、webgl</li></ul> <h4 id="echarts-原理"><a href="#echarts-原理" class="header-anchor">#</a> ECharts 原理</h4> <blockquote><p>未完待续</p></blockquote> <h4 id="对node的应用场景和优缺点"><a href="#对node的应用场景和优缺点" class="header-anchor">#</a> 对node的应用场景和优缺点？</h4> <ul><li>Node.js是一个基于V8引擎的事件驱动I/O的服务端JavaScript运行环境。</li> <li>单进程、单线程</li> <li>事件驱动</li> <li>非阻塞I/O(遇到I/O创建线程执行)</li></ul> <p>&quot;异步机制，事件驱动-回调+事件&quot;</p> <p>优点：高并发、适合I/O密集型应用。</p> <p>缺点：只支持单核CPU，不能充分利用CPU、可靠性低，（由于单进程、单线程）一旦代码某个环节崩溃，整个系统都崩溃（解决方案：1.Nnigx反向代理，负载均衡，开多个进程，绑定多个端口；2.开多个进程监听同一个端口，使用cluster模块）、 开源组件库质量参差不齐，更新快，向下不兼容、Debug不方便，错误没有stack trace</p> <p>应用场景：RESTful API、统一Web应用的UI层、大量Ajax请求的应用</p> <p><a href="https://zhuanlan.zhihu.com/p/26288894" target="_blank" rel="noopener noreferrer">node系列之 优缺点及适用场景讨论<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="koa的机制"><a href="#koa的机制" class="header-anchor">#</a> koa的机制</h4> <blockquote><p>未完待续</p></blockquote> <hr> <h3 id="_4-28-下午3小时到场面试3轮技术-1轮hr-tyzn"><a href="#_4-28-下午3小时到场面试3轮技术-1轮hr-tyzn" class="header-anchor">#</a> 4.28 下午3小时到场面试3轮技术+1轮hr TYZN</h3> <blockquote><p>http1/2、ES6 模块化、Vue2/3、Vue/react、浏览器缓存(cookie、sessionStorage、localStorage)、nodejs特点</p></blockquote> <h4 id="http0-9"><a href="#http0-9" class="header-anchor">#</a> http0.9</h4> <blockquote><p>只允许客户端发送GET这一种请求，且不支持请求头。
由于没有协议头，造成了HTTP/0.9协议只支持一种内容，即纯文本。
不过网页仍然支持用HTML语言格式化，同时无法插入图片。
一次HTTP/0.9的传输首先要建立一个由客户端到Web服务器的TCP连接，由客户端发起一个请求，然后由Web服务器返回页面内容，然后连接会关闭。
如果请求的页面不存在，也不会返回任何错误码。</p></blockquote> <h4 id="csp"><a href="#csp" class="header-anchor">#</a> csp</h4> <blockquote><p>添加 Content-Security-Policy  HTTP头部到一个页面，并配置相应的值，以控制用户代理（浏览器等）可以为该页面获取哪些资源。</p></blockquote> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP" target="_blank" rel="noopener noreferrer">内容安全策略( CSP )<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="web安全、跨站请求伪造"><a href="#web安全、跨站请求伪造" class="header-anchor">#</a> web安全、跨站请求伪造</h4> <p><a href="https://jiuto.github.io/jiuto_blog/guide/network/security.html" target="_blank" rel="noopener noreferrer">web 安全<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="webpack-性能优化"><a href="#webpack-性能优化" class="header-anchor">#</a> webpack 性能优化</h4> <p>持久化缓存（hash,chunkhash和contenthash）、cache（缓存生成的 webpack 模块和 chunk，用来改善构建速度）、懒加载、压缩插件、分离打包</p> <h4 id="babel-原理、预设"><a href="#babel-原理、预设" class="header-anchor">#</a> babel 原理、预设</h4> <p><strong>原理</strong></p> <ol><li>解析，从代码=&gt;AST语法树，分为词法分析（代码字符串=&gt;tokens）、语法分析阶段（tokens=&gt;AST）。</li> <li>转换，遍历AST，对节点进行增删改。</li> <li>生成，AST=&gt;代码字符串。</li></ol> <p><strong>预设</strong></p> <p>Babel 的预设（preset）可以被看作是一组 Babel 插件和/或 options 配置的可共享模块。</p> <p>通过presets配置来使用一组插件，官方提供：</p> <ul><li>@babel/preset-env</li> <li>@babel/preset-flow</li> <li>@babel/preset-react</li> <li>@babel/preset-typescript</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// .babelrc</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 逆序排列</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可配置参数</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string">&quot;loose&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="tree-shaking原理"><a href="#tree-shaking原理" class="header-anchor">#</a> Tree-shaking原理</h4> <p><strong>定义</strong></p> <p>Tree-shaking 是指将没有使用到的代码删去，比如我们在项目中引入了某些依赖，但只使用了其中的部分功能，通过 Tree-shaking 可以将没有用到的代码删除。</p> <p><strong>意义</strong></p> <blockquote><p>javascript绝大多数情况需要通过网络进行加载，然后执行，加载的文件大小越小，整体执行时间更短，所以去除无用代码以减少文件体积，对javascript来说更有意义。</p></blockquote> <p><strong>DCE</strong></p> <p>DCE（dead code elimination），无用代码消除。</p> <blockquote><p>Tree-shaking 是 DCE 的一种新的实现，和传统的 DCE 的方法又不太一样，传统的 DCE 消灭不可能执行的代码，而 Tree-shaking 更关注宇消除没有用到的代码。</p> <p>Dead Code 一般具有以下几个特征：</p> <ul><li>代码不会被执行，不可到达</li> <li>代码执行的结果不会被用到</li> <li>代码只会影响死变量（只写不读）</li></ul></blockquote> <p>js中，由代码压缩优化工具 uglify 完成DCE。</p> <p><strong>原理</strong></p> <p>Tree-shaking原理依赖于ES6的模块特性。</p> <blockquote><p>ES6模块依赖关系是确定的，和运行时的状态无关，可以进行可靠的静态分析，这就是tree-shaking的基础。</p> <p>所谓静态分析就是不执行代码，从字面量上对代码进行分析，ES6之前的模块化，比如我们可以动态require一个模块，只有执行后才知道引用的什么模块，这个就不能通过静态分析去做优化。</p></blockquote> <p><strong>工具</strong></p> <p>Rollup、Webpack、Closure compiler</p> <p>Webpack4 中的 Tree-shakingg 相关配置：</p> <p>在<code>package.json</code>中设置<code>&quot;sideEffects&quot;: false</code>，表示项目中导入引入的都是没有副作用的函数或类，可以安全地删除未用到的export。</p> <p>对于有副作用的导出文件，可以这样设置来告知webpack<code>&quot;sideEffects&quot;: [ &quot;./src/some-side-effectful-file.js&quot; ]</code>。</p> <p>也可以通过 module.rules 配置设置 sideEffects。</p> <h4 id="vue-react设计思想"><a href="#vue-react设计思想" class="header-anchor">#</a> Vue/React设计思想</h4> <blockquote><p>vue的整体思想仍然是拥抱经典的html(结构)+css(表现)+js(行为)的形式，vue鼓励开发者使用template模板，并提供指令供开发者使用(v-if、v-show、v-for等等)，因此在开发vue应用的时候会有一种在写经典web应用（结构、表现、行为分离）的感觉。另一方面，在针对组件数据上，vue2.0通过Object.defineProperty对数据做到了更细致的监听，精准实现组件级别的更新。</p> <p>react整体上是函数式的思想，组件使用jsx语法，all in js，将html与css全都融入javaScript，jsx语法相对来说更加灵活。
当组件调用setState或props变化的时候，组件内部render会重新渲染，子组件也会随之重新渲染，可以通过shouldComponentUpdate或者PureComponent可以避免不必要的重新渲染。</p></blockquote> <h4 id="设计模式"><a href="#设计模式" class="header-anchor">#</a> 设计模式</h4> <p><a href="https://www.cnblogs.com/tugenhua0707/p/5198407.html" target="_blank" rel="noopener noreferrer">Javascript常用的设计模式详解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903474535071752#heading-0" target="_blank" rel="noopener noreferrer">JavaScript 常见设计模式解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6844903607452581896" target="_blank" rel="noopener noreferrer">JavaScript 中常见设计模式整理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="递归的特点"><a href="#递归的特点" class="header-anchor">#</a> 递归的特点</h4> <p>调用自身、相同的步骤、必须有出口...</p> <h4 id="尾递归优化"><a href="#尾递归优化" class="header-anchor">#</a> 尾递归优化</h4> <p><strong>尾调用</strong></p> <p>尾调用优化：只保留内层函数的调用帧。</p> <p>尾调用优化，节约内存，防止栈溢出。</p> <p>只有不再用到外层函数的内部变量，内层函数的调用帧才会取代外层函数的调用帧，否则就无法进行“尾调用优化”。</p> <p><strong>尾递归</strong></p> <p>函数调用自身称为递归，尾调用自身就称为尾递归。</p> <p>递归本身就非常耗内存，因为要保存多个调用帧，容易栈溢出（stack overflow）。尾递归优化，只保存一个调用帧。</p> <p>尾递归的实现：把所有用到的内部变量改写成函数的参数。</p> <p><strong>斐波那契数列尾递归改写</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Fibonacci</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">Fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token function">Fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Fibonacci</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 89</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Fibonacci</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 堆栈溢出</span>

<span class="token keyword">function</span> <span class="token function">Fibonacci2</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>ac1<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>ac2<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> ac2<span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">Fibonacci2</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>ac2<span class="token punctuation">,</span>ac1<span class="token operator">+</span>ac2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Fibonacci2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 89</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Fibonacci2</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 573147844013817200000</span>
</code></pre></div><p><strong>严格模式</strong></p> <p>ES6的尾递归优化只在严格模式下开启，因为严格模式下禁用函数内部的caller和arguments变量。</p> <p><strong>尾递归优化实现</strong></p> <ol><li>利用trampoline蹦床函数，将递归转换为循环。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">trampoline</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>f <span class="token operator">&amp;&amp;</span> f <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        f<span class="token operator">=</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> f
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">trampoline</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>利用tco，将递归转换为循环。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">tco</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> active<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> accumulated<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">accumulator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        accumulated<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 每一项都是一轮递归的arguments</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>active<span class="token punctuation">)</span><span class="token punctuation">{</span>
            active<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>accumulated<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
                value <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>accumulated<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            active<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token function">tco</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>y<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10000</span><span class="token punctuation">)</span>
</code></pre></div><p>每一次return的sum由于active处于true状态，返回的都是undefined，避免了递归，而每次调用sum都增加了accumulated的长度。</p> <blockquote><p>摘自《ES6标准入门》P124-132</p></blockquote> <h4 id="手写编程题"><a href="#手写编程题" class="header-anchor">#</a> 手写编程题</h4> <p><strong>百元买百鸡</strong></p> <p>公鸡5元一只，母鸡3元一只，小鸡1元三只，现有100元钱欲买100只鸡，怎么买？</p> <p>解题思路：满足等式<code>5x+3y+z/3=100</code>与<code>x+y+z=100</code>，且<code>0&lt;=x&lt;=20</code>、<code>0&lt;=y&lt;=33</code>、<code>0&lt;=z&lt;=100</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
　　<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>y<span class="token operator">&lt;=</span><span class="token number">33</span><span class="token punctuation">;</span>y<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
　　　<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> z<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>z<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>z<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
　　　　　　<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">*</span>x<span class="token operator">+</span><span class="token number">3</span><span class="token operator">*</span>y<span class="token operator">+</span>z<span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">100</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>x<span class="token operator">+</span>y<span class="token operator">+</span>z<span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
　　　　　　　　console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;公鸡有&quot;</span><span class="token operator">+</span>x<span class="token operator">+</span><span class="token string">&quot;只&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
　　　　　　　　console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;母鸡有&quot;</span><span class="token operator">+</span>y<span class="token operator">+</span><span class="token string">&quot;只&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
　　　　　　　　console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;小鸡有&quot;</span><span class="token operator">+</span>z<span class="token operator">+</span><span class="token string">&quot;只&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
　　　　　　<span class="token punctuation">}</span>
　　　　<span class="token punctuation">}</span>　
　　<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>青蛙跳台阶</strong></p> <p>一只青蛙一次可以跳一级或二级台阶，请问要跳n级台阶有几种跳法？</p> <p>解题思路：到达n级，必然是从n-1或n-2级上来，也就是斐波那契数列。不同之处在于第一级只有一种，第二级有两种可能。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> n <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">?</span> n <span class="token operator">:</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h3> <h4 id="dom列表倒置"><a href="#dom列表倒置" class="header-anchor">#</a> dom列表倒置</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        flag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        arr<span class="token punctuation">;</span>

    arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>ul<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类数组转换，也可用Array.prototype.slice.call(ul.children)</span>
    arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 倒置原数组，reverse会改变原数组，不会生成新的数组</span>
    ul<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 清空ul</span>
    <span class="token comment">// 将倒置后的节点按顺序添加到空节点上</span>
    arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        flag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 最后一次性添加到ul上</span>
    ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="webpack缓存"><a href="#webpack缓存" class="header-anchor">#</a> webpack缓存</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
      main<span class="token operator">:</span><span class="token string">&quot;main.js&quot;</span><span class="token punctuation">,</span>
      sub<span class="token operator">:</span><span class="token string">&quot;sub.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">&quot;/dist&quot;</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;[name].[hash].js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">index.html</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        filename<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">index.html</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;vendors&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        hash<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        minify<span class="token operator">:</span> <span class="token punctuation">{</span>
            html5<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            collapseWhitespace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            preserveLineBreaks<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            minifyCSS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            minifyJS<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            removeComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="快速排序"><a href="#快速排序" class="header-anchor">#</a> 快速排序</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr
    <span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        pos <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pos <span class="token operator">?</span> left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span><span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">57</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [1, 5, 6, 8, 23, 43, 56, 57, 88]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token comment">// [8, 23, 57, 1, 56, 88, 6, 43]</span>
</code></pre></div><p>平均时间复杂度O(logn)，最坏时间复杂度O(n²)，空间复杂度O(nlogn)，不是稳定。</p> <p>假设有两个相同的数A和B，在排序之前A在B的前面，经过排序之后B跑到了A的前面，就叫做排序的不稳定性。</p> <h4 id="斐波那契数列"><a href="#斐波那契数列" class="header-anchor">#</a> 斐波那契数列</h4> <p>0 1 1 2 3 5 8 ...</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> n <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span> n <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> n <span class="token operator">:</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">memory</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> rtn <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> rtn<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> rtn
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> newFibonacci <span class="token operator">=</span> <span class="token function">memory</span><span class="token punctuation">(</span>fibonacci<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">newFibonacci</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="https://zhuanlan.zhihu.com/p/27205391" target="_blank" rel="noopener noreferrer">用js优美的写各种斐波那契数列<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="css-样式隔离"><a href="#css-样式隔离" class="header-anchor">#</a> css 样式隔离</h4> <p>命名空间、css Modules(一种构建步骤中的一个进程)、CSS in JS、<a href="https://developer.mozilla.org/zh-CN/docs/Web/Web_Components/Using_shadow_DOM" target="_blank" rel="noopener noreferrer">Shadow DOM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="gitlab-权限控制"><a href="#gitlab-权限控制" class="header-anchor">#</a> gitlab 权限控制</h4> <p><a href="https://www.cnblogs.com/zangxueyuan/p/9222014.html" target="_blank" rel="noopener noreferrer">Gitlab管理用户、组、权限<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="手写一个-isequal"><a href="#手写一个-isequal" class="header-anchor">#</a> 手写一个 isEqual</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> eq<span class="token punctuation">,</span> deepEq<span class="token punctuation">;</span>
<span class="token function-variable function">eq</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> aStack<span class="token punctuation">,</span> bStack</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span> <span class="token keyword">return</span> a <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token number">1</span> <span class="token operator">/</span> a <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">/</span> b<span class="token punctuation">;</span> <span class="token comment">// 排除 0 === -0，使这种情况下返回false</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> b <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// === 失败的情况下，排除 null == undefined</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!==</span> a<span class="token punctuation">)</span> <span class="token keyword">return</span> b <span class="token operator">!==</span> b<span class="token punctuation">;</span> <span class="token comment">// 由于NaN!==NaN，另作判断，当a、b都为NaN时返回true</span>
  <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span> a<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">!==</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> b <span class="token operator">!=</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">deepEq</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> aStack<span class="token punctuation">,</span> bStack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function-variable function">deepEq</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> aStack<span class="token punctuation">,</span> bStack</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//如果a，b是_的一个实例的话，需要先把他们解包出来再进行比较。</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">_</span><span class="token punctuation">)</span> a <span class="token operator">=</span> a<span class="token punctuation">.</span>_wrapped<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token keyword">instanceof</span> <span class="token class-name">_</span><span class="token punctuation">)</span> b <span class="token operator">=</span> b<span class="token punctuation">.</span>_wrapped<span class="token punctuation">;</span>

	<span class="token keyword">var</span> className <span class="token operator">=</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>className <span class="token operator">!==</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span>className<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//如果a，b为正则表达式，那么转化为字符串判断是否相等即可。</span>
		<span class="token keyword">case</span> <span class="token string">'[object RegExp]'</span><span class="token operator">:</span>
		<span class="token keyword">case</span> <span class="token string">'[object String]'</span><span class="token operator">:</span>
			<span class="token comment">// var a = new String('12'),b = new String('12');</span>
            <span class="token comment">// a === b // false</span>
			<span class="token keyword">return</span> <span class="token string">''</span> <span class="token operator">+</span> a <span class="token operator">===</span> <span class="token string">''</span> <span class="token operator">+</span> b<span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token string">'[object Number]'</span><span class="token operator">:</span>
			<span class="token comment">//数字对象转化为数字进行比较，并且要考虑new Number(NaN) === new Number(NaN)应该要成立的情况。</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">+</span>a <span class="token operator">!==</span> <span class="token operator">+</span>a<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">+</span>b <span class="token operator">!==</span> <span class="token operator">+</span>b<span class="token punctuation">;</span>
			<span class="token comment">//排除0 === -0 的情况。</span>
			<span class="token keyword">return</span> <span class="token operator">+</span>a <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token operator">+</span>a <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">/</span> b <span class="token operator">:</span> <span class="token operator">+</span>a <span class="token operator">===</span> <span class="token operator">+</span>b<span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token string">'[object Date]'</span><span class="token operator">:</span>
		<span class="token comment">//Date类型以及Boolean类型都可以转换为number类型进行比较。</span>
		<span class="token comment">//在变量前加一个加号“+”，可以强制转换为数值型。</span>
		<span class="token comment">//在Date型变量前加一个加号“+”可以将Date转化为毫秒形式；Boolean类型同上（转换为0或者1）。</span>
		<span class="token keyword">case</span> <span class="token string">'[object Boolean]'</span><span class="token operator">:</span>
			<span class="token keyword">return</span> <span class="token operator">+</span>a <span class="token operator">===</span> <span class="token operator">+</span>b<span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token string">'[object Symbol]'</span><span class="token operator">:</span>
			<span class="token keyword">return</span> SymbolProto<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> SymbolProto<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> areArrays <span class="token operator">=</span> className <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span>
	<span class="token comment">//如果不是数组对象。</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>areArrays<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> a <span class="token operator">!=</span> <span class="token string">'object'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> b <span class="token operator">!=</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token comment">//比较两个非数组对象的构造函数。</span>
		<span class="token keyword">var</span> aCtor <span class="token operator">=</span> a<span class="token punctuation">.</span>constructor<span class="token punctuation">,</span> bCtor <span class="token operator">=</span> b<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>aCtor <span class="token operator">!==</span> bCtor <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>aCtor<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> aCtor <span class="token keyword">instanceof</span> <span class="token class-name">aCtor</span> <span class="token operator">&amp;&amp;</span>
			_<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>bCtor<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> bCtor <span class="token keyword">instanceof</span> <span class="token class-name">bCtor</span><span class="token punctuation">)</span>
			<span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token string">'constructor'</span> <span class="token keyword">in</span> a <span class="token operator">&amp;&amp;</span> <span class="token string">'constructor'</span> <span class="token keyword">in</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//初次调用eq函数时，aStack以及bStack均未被传递，在循环递归的时候，会被传递进来。</span>
	<span class="token comment">//aStack和bStack存在的意义在于循环引用对象之间的比较。</span>
	aStack <span class="token operator">=</span> aStack <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	bStack <span class="token operator">=</span> bStack <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> length <span class="token operator">=</span> aStack<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	
	<span class="token keyword">while</span> <span class="token punctuation">(</span>length<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>aStack<span class="token punctuation">[</span>length<span class="token punctuation">]</span> <span class="token operator">===</span> a<span class="token punctuation">)</span> <span class="token keyword">return</span> bStack<span class="token punctuation">[</span>length<span class="token punctuation">]</span> <span class="token operator">===</span> b<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//初次调用eq函数时，就把两个参数放入到参数堆栈中去，保存起来方便递归调用时使用。</span>
	aStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	bStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//如果是数组对象。</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>areArrays<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		length <span class="token operator">=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token comment">//长度不等，直接返回false认定为数组不相等。</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">!==</span> b<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>length<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">//递归调用。</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">eq</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">,</span> aStack<span class="token punctuation">,</span> bStack<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token comment">//对比纯对象</span>
		<span class="token keyword">var</span> keys <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token punctuation">;</span>
		length <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token comment">//对比属性数量，如果数量不等，直接返回false。</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">!==</span> length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>length<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			key <span class="token operator">=</span> keys<span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">eq</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> aStack<span class="token punctuation">,</span> bStack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

    <span class="token comment">//循环递归结束，把a，b堆栈中的元素推出。</span>
	aStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	bStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="https://juejin.cn/post/6844903569502502920#heading-8" target="_blank" rel="noopener noreferrer">如何判断JavaScript中的两变量是否相等？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/jiuto_blog/guide/else/docker.html" class="prev">
        如何使用docker发布项目
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/jiuto_blog/assets/js/app.3eb51ab4.js" defer></script><script src="/jiuto_blog/assets/js/2.306ea56a.js" defer></script><script src="/jiuto_blog/assets/js/24.71859bdc.js" defer></script>
  </body>
</html>
