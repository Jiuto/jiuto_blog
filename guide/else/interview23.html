<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面试准备2023 | Jiuto&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="favicon.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/jiuto_blog/assets/css/0.styles.d2dad1a0.css" as="style"><link rel="preload" href="/jiuto_blog/assets/js/app.14af747a.js" as="script"><link rel="preload" href="/jiuto_blog/assets/js/2.63c13255.js" as="script"><link rel="preload" href="/jiuto_blog/assets/js/26.de798afe.js" as="script"><link rel="prefetch" href="/jiuto_blog/assets/js/10.012296d3.js"><link rel="prefetch" href="/jiuto_blog/assets/js/11.46f7724e.js"><link rel="prefetch" href="/jiuto_blog/assets/js/12.87fa2ccd.js"><link rel="prefetch" href="/jiuto_blog/assets/js/13.a2cd9c9d.js"><link rel="prefetch" href="/jiuto_blog/assets/js/14.52be2bcc.js"><link rel="prefetch" href="/jiuto_blog/assets/js/15.1c2fcd2e.js"><link rel="prefetch" href="/jiuto_blog/assets/js/16.c58eaa7f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/17.8f5c380a.js"><link rel="prefetch" href="/jiuto_blog/assets/js/18.6a30fbb1.js"><link rel="prefetch" href="/jiuto_blog/assets/js/19.0d48e8fc.js"><link rel="prefetch" href="/jiuto_blog/assets/js/20.db45d42b.js"><link rel="prefetch" href="/jiuto_blog/assets/js/21.a916d4bd.js"><link rel="prefetch" href="/jiuto_blog/assets/js/22.0a3ed11a.js"><link rel="prefetch" href="/jiuto_blog/assets/js/23.c2b79e37.js"><link rel="prefetch" href="/jiuto_blog/assets/js/24.15a59909.js"><link rel="prefetch" href="/jiuto_blog/assets/js/25.3e01ce8f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/27.809f898f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/28.222b7146.js"><link rel="prefetch" href="/jiuto_blog/assets/js/29.82cf60cb.js"><link rel="prefetch" href="/jiuto_blog/assets/js/3.8112d114.js"><link rel="prefetch" href="/jiuto_blog/assets/js/30.0779ff1c.js"><link rel="prefetch" href="/jiuto_blog/assets/js/31.997ed1b5.js"><link rel="prefetch" href="/jiuto_blog/assets/js/32.5b64e5d7.js"><link rel="prefetch" href="/jiuto_blog/assets/js/33.15614c39.js"><link rel="prefetch" href="/jiuto_blog/assets/js/34.6fbf0882.js"><link rel="prefetch" href="/jiuto_blog/assets/js/35.8c74a7d1.js"><link rel="prefetch" href="/jiuto_blog/assets/js/36.3f44339b.js"><link rel="prefetch" href="/jiuto_blog/assets/js/37.9d944075.js"><link rel="prefetch" href="/jiuto_blog/assets/js/38.fbec478b.js"><link rel="prefetch" href="/jiuto_blog/assets/js/39.96a2717f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/4.13c31685.js"><link rel="prefetch" href="/jiuto_blog/assets/js/40.3962ae85.js"><link rel="prefetch" href="/jiuto_blog/assets/js/41.a8f40a42.js"><link rel="prefetch" href="/jiuto_blog/assets/js/42.3a462eee.js"><link rel="prefetch" href="/jiuto_blog/assets/js/43.766b07f0.js"><link rel="prefetch" href="/jiuto_blog/assets/js/44.496ad363.js"><link rel="prefetch" href="/jiuto_blog/assets/js/45.3afc072f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/46.3d9d8292.js"><link rel="prefetch" href="/jiuto_blog/assets/js/47.330435b0.js"><link rel="prefetch" href="/jiuto_blog/assets/js/48.e09f6af8.js"><link rel="prefetch" href="/jiuto_blog/assets/js/49.00d12d6e.js"><link rel="prefetch" href="/jiuto_blog/assets/js/5.69487806.js"><link rel="prefetch" href="/jiuto_blog/assets/js/50.071cd464.js"><link rel="prefetch" href="/jiuto_blog/assets/js/51.b266867f.js"><link rel="prefetch" href="/jiuto_blog/assets/js/52.a889cb0d.js"><link rel="prefetch" href="/jiuto_blog/assets/js/53.73ab92f6.js"><link rel="prefetch" href="/jiuto_blog/assets/js/54.f11d3ac2.js"><link rel="prefetch" href="/jiuto_blog/assets/js/55.aada0c9e.js"><link rel="prefetch" href="/jiuto_blog/assets/js/56.8159ec6d.js"><link rel="prefetch" href="/jiuto_blog/assets/js/57.31d0ff46.js"><link rel="prefetch" href="/jiuto_blog/assets/js/58.4977232a.js"><link rel="prefetch" href="/jiuto_blog/assets/js/59.6730ad52.js"><link rel="prefetch" href="/jiuto_blog/assets/js/6.8d81f0ec.js"><link rel="prefetch" href="/jiuto_blog/assets/js/7.aa885fa4.js"><link rel="prefetch" href="/jiuto_blog/assets/js/8.05e77d39.js"><link rel="prefetch" href="/jiuto_blog/assets/js/9.a9ec1f5c.js">
    <link rel="stylesheet" href="/jiuto_blog/assets/css/0.styles.d2dad1a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/jiuto_blog/" class="home-link router-link-active"><!----> <span class="site-name">Jiuto's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/Jiuto" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/Jiuto" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/js/eventBus.html" class="sidebar-link">用Map写一个EventBus事件总线</a></li><li><a href="/jiuto_blog/guide/js/promise.html" class="sidebar-link">手写一个Promise</a></li><li><a href="/jiuto_blog/guide/js/babble_capture.html" class="sidebar-link">冒泡与捕获</a></li><li><a href="/jiuto_blog/guide/js/debounce_throttle.html" class="sidebar-link">防抖与节流</a></li><li><a href="/jiuto_blog/guide/js/clone.html" class="sidebar-link">浅拷贝和深拷贝</a></li><li><a href="/jiuto_blog/guide/js/module.html" class="sidebar-link">ES6 Module</a></li><li><a href="/jiuto_blog/guide/js/template.html" class="sidebar-link">模板引擎原理</a></li><li><a href="/jiuto_blog/guide/js/closure.html" class="sidebar-link">理解js闭包</a></li><li><a href="/jiuto_blog/guide/js/proto.html" class="sidebar-link">理解js原型、原型链和继承</a></li><li><a href="/jiuto_blog/guide/js/new.html" class="sidebar-link">手写 new 操作符</a></li><li><a href="/jiuto_blog/guide/js/bind.html" class="sidebar-link">手写 bind</a></li><li><a href="/jiuto_blog/guide/js/apply_call.html" class="sidebar-link">手写 apply 和 call</a></li><li><a href="/jiuto_blog/guide/js/let_const.html" class="sidebar-link">let、const和块级作用域</a></li><li><a href="/jiuto_blog/guide/js/curry.html" class="sidebar-link">柯里化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/css/flex.html" class="sidebar-link">flex布局</a></li><li><a href="/jiuto_blog/guide/css/layout.html" class="sidebar-link">常见布局</a></li><li><a href="/jiuto_blog/guide/css/bfc.html" class="sidebar-link">BFC 块格式化上下文</a></li><li><a href="/jiuto_blog/guide/css/stacking_context.html" class="sidebar-link">层叠上下文、层叠层级、层叠顺序</a></li><li><a href="/jiuto_blog/guide/css/center.html" class="sidebar-link">水平居中、垂直居中</a></li><li><a href="/jiuto_blog/guide/css/grid.html" class="sidebar-link">grid 网格布局</a></li><li><a href="/jiuto_blog/guide/css/css3.html" class="sidebar-link">CSS3 动画</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/vue/nextTick.html" class="sidebar-link">vue中$nextTick的实现原理</a></li><li><a href="/jiuto_blog/guide/vue/responsive.html" class="sidebar-link">简单实现vue响应式原理</a></li><li><a href="/jiuto_blog/guide/vue/initData.html" class="sidebar-link">源码分析vue响应式原理</a></li><li><a href="/jiuto_blog/guide/vue/initWatch.html" class="sidebar-link">源码分析vue watch侦听器</a></li><li><a href="/jiuto_blog/guide/vue/patch.html" class="sidebar-link">源码阅读vue VirtualDOM 和 diff</a></li><li><a href="/jiuto_blog/guide/vue/initComputed.html" class="sidebar-link">源码分析vue computed</a></li><li><a href="/jiuto_blog/guide/vue/router.html" class="sidebar-link">源码阅读vue-router</a></li><li><a href="/jiuto_blog/guide/vue/vuex.html" class="sidebar-link">源码阅读vuex</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/webpack/webpack_template.html" class="sidebar-link">webpack多页面打包方法工具和模板</a></li><li><a href="/jiuto_blog/guide/webpack/babeltry.html" class="sidebar-link">通过babel手撸超简化版webpack</a></li><li><a href="/jiuto_blog/guide/webpack/plugin_loader.html" class="sidebar-link">手写webpack plugin 和 loader</a></li><li><a href="/jiuto_blog/guide/webpack/babel_plugin.html" class="sidebar-link">写一个Babel插件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/browser/eventloop.html" class="sidebar-link">event loop 事件循环</a></li><li><a href="/jiuto_blog/guide/browser/render.html" class="sidebar-link">浏览器渲染机制</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>网络与安全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/network/http.html" class="sidebar-link">http、https</a></li><li><a href="/jiuto_blog/guide/network/cache.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/jiuto_blog/guide/network/cross.html" class="sidebar-link">跨域</a></li><li><a href="/jiuto_blog/guide/network/security.html" class="sidebar-link">web 安全</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/algorithm/editDistance.html" class="sidebar-link">从最短编辑距离问题到初识动态规划</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jiuto_blog/guide/else/ele_expend.html" class="sidebar-link">如何在element-ui中拓展一个新的组件</a></li><li><a href="/jiuto_blog/guide/else/cli.html" class="sidebar-link">搭建一个脚手架工具</a></li><li><a href="/jiuto_blog/guide/else/utils.html" class="sidebar-link">搭建一个方法库</a></li><li><a href="/jiuto_blog/guide/else/auto_deploy.html" class="sidebar-link">搭建一个自动化部署服务</a></li><li><a href="/jiuto_blog/guide/else/docker_verdaccio.html" class="sidebar-link">在docker中通过Verdaccio搭建一个私有npm库</a></li><li><a href="/jiuto_blog/guide/else/docker_initSql.html" class="sidebar-link">通过Dockerfile在docker中初始化mysql表</a></li><li><a href="/jiuto_blog/guide/else/eslint_prettier.html" class="sidebar-link">在vue/react项目中配置eslint + prettier</a></li><li><a href="/jiuto_blog/guide/else/karma_mocha.html" class="sidebar-link">搭建一个由 karma + mocha + chai + Istanbul 组成的基础测试工具</a></li><li><a href="/jiuto_blog/guide/else/optimization.html" class="sidebar-link">首屏加载优化</a></li><li><a href="/jiuto_blog/guide/else/docker.html" class="sidebar-link">如何使用docker发布项目</a></li><li><a href="/jiuto_blog/guide/else/interview.html" class="sidebar-link">面试路漫漫2021</a></li><li><a href="/jiuto_blog/guide/else/interview23.html" aria-current="page" class="active sidebar-link">面试准备2023</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="面试准备2023"><a href="#面试准备2023" class="header-anchor">#</a> 面试准备2023</h2> <h3 id="知识点"><a href="#知识点" class="header-anchor">#</a> 知识点</h3> <h4 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h4> <ul><li><p>ES6特性：</p> <p>let/const、Promise、Module、Class、箭头函数、函数参数默认值、字符串模板<code>${data}</code>、结构赋值{name} = data;与[a, b] = [1, 2];、延展操作符...、 对象属性简写var obj = { name, age, city }、Array.prototype.includes()返回布尔值、指数运算符**、async/await、Object.values()返回属性值数组、Object.entries()返回对象可枚举属性的键值对数组、 函数参数列表结尾允许逗号、Object.getOwnPropertyDescriptors()、Promise.finally()、Array.prototype.flat()和Array.prototype.flatMap()、BigInt、可选链操作符（Optional Chaining）obj?.first?.second、空位合并操作符（a ?? b 同 a !== undefined &amp;&amp; a !== null ? a : b）、Promise.any()</p></li> <li><p>居中方案、圣杯、双飞翼：</p> <p>水平居中，行内：text-align: center</p> <p>水平居中，块级：margin: 0 auto、弹性布局 justify-content: center、绝对定位 left: 50% + transform: translate(-50%, 0)、绝对定位 left: 0 + right: 0 + margin: 0 auto</p> <p>垂直居中，行内：line-height: 100px、table-cell + vertical-align（margin失效与宽度撑满两种）</p> <p>垂直居中，块级：弹性布局 align-items: center、绝对定位 top: 50% + transform: translate( 0, -50%)、绝对定位 top: 0 + bottom: 0 + margin: auto 0、table-cell + vertical-align（margin失效与高度撑满两种）、伪元素 ：</p> <div class="language-css extra-class"><pre class="language-css"><code>    <span class="token selector">.middle_block::before</span> <span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
    <span class="token selector">.middle_block .block</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>左列定宽，右列自适应：float + margin-left、float + overflow (触发BFC)、calc、display: table-cell、绝对定位、flex、grid；</p> <p>一列不定宽，一列自适应：float + overflow (触发BFC)、flex、grid；</p> <p>圣杯布局-两侧定宽，中间自适应：</p> <div class="language-html extra-class"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>中间自适应<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>左列定宽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>右列定宽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code>    <span class="token selector">.center</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.left, .right</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.left</span> <span class="token punctuation">{</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> -200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.right</span> <span class="token punctuation">{</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> -200px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.parent</span> <span class="token punctuation">{</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0 200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>双飞翼布局，类似圣杯，增加了一个内容区：</p> <div class="language-html extra-class"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center_inbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>中间自适应<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>左列定宽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>右列定宽<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code>    <span class="token selector">.center</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> gold<span class="token punctuation">;</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.left, .right</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> teal<span class="token punctuation">;</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.left</span> <span class="token punctuation">{</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.right</span> <span class="token punctuation">{</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> -200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.center_inbox</span> <span class="token punctuation">{</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 0 200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>flex：</p> <p>设为 Flex 布局以后，子元素的float、clear和vertical-align属性将失效。</p> <p>容器属性：</p> <ol><li>flex-direction 定义主轴：row、row-reverse、column、column-reverse；</li> <li>flex-wrap 换行：nowrap、wrap、wrap-reverse；</li> <li>justify-content 主轴上的排列方式：flex-start、flex-end、center、space-around、space-between；</li> <li>align-items 交叉轴上的对齐方式：stretch（元素/容器拉伸）、flex-start、flex-end、center、baseline；</li> <li>align-content 交叉轴上的整组的排列方式：stretch、flex-start、flex-end、center、space-between、space-around；</li> <li>flex-flow flex-direction和flex-wrap的简写：row nowrap；</li></ol> <p>元素属性：</p> <ol><li>order 排序，数字越小越靠前；</li> <li>flex-grow 放大比例，默认为0，有剩余也不放大；</li> <li>flex-shrink 缩小比例，默认为1，如果空间不足，该项目将缩小；</li> <li>flex-basis 分配多余空间之前，元素占据的主轴空间，默认auto，即元素原本大小；</li> <li>align-self 单个元素对齐方式：auto、flex-start、flex-end、center、baseline、stretch；</li> <li>flex 是flex-grow、flex-shrink、flex-basis的简写，默认值为0 1 auto；</li></ol> <p>flex: initial === flex: 0 1 auto</p> <p>flex: auto === flex: 1 1 auto</p> <p>flex: none === flex: 0 0 auto</p> <p>flex: 1 === flex: 1 1 0</p></li> <li><p>BFC 块格式化上下文：</p> <p>创建方式：根元素<code>&lt;html&gt;</code>、浮动元素、绝对定位元素(absolute/fixed)、overflow(auto/hidden/scroll)、弹性元素、网格元素、行内块元素(inline-block)、display: flow-root(创建一个行为类似于根元素的元素)、表格相关、contain、多列容器。</p> <p>作用：阻止元素被浮动元素覆盖、可以包含浮动元素、阻止相邻元素的margin合并。</p></li> <li><p>const、let与var的区别：</p> <p>不存在变量提升、暂时性死区（typeof命令不再安全，可能会报ReferenceError）、不允许重复声明、不会绑定全局对象</p></li> <li><p>防抖、节流：</p> <p>防抖：事件触发后经过规定时间再执行，规定时间内，多次触发，每次触发导致重新计时；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>节流：规定时间内，只执行一次，多次触发不生效，只有规定时间过去执行完毕，才开始下一轮计时；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>原型及原型链：</p> <p>每一个函数都有一个prototype（原型）属性，这个属性是一个指针，指向一个对象，即原型对象。
所有原型对象都会自动获得一个constructor（构造函数）属性，这个属性是一个指向prototype属性所在函数的指针。</p> <p>原型链就是一个原型对象等于另一个类型的实例，层层嵌套。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token comment">// Person</span>
    p1<span class="token punctuation">.</span>constructor <span class="token comment">// Person</span>

    p1<span class="token punctuation">.</span>__proto__ <span class="token comment">// Person.prototype</span>
    Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token comment">// Person.prototype</span>
    <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token comment">// true</span>

    Person<span class="token punctuation">.</span>__proto__ <span class="token comment">// Function.prototype</span>
    Object<span class="token punctuation">.</span>__proto__ <span class="token comment">// Function.prototype</span>
    <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token comment">// Object.prototype</span>

    Function<span class="token punctuation">.</span>__proto__ <span class="token comment">// Function.prototype</span>
    <span class="token keyword">typeof</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype <span class="token comment">// function 唯一，其他原型对象的类型都是对象</span>
    <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token comment">// Object.prototype</span>
    <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token comment">// null 到顶</span>
</code></pre></div></li> <li><p>继承：</p> <p>继承的本质是重写原型对象。</p> <p>经典继承在子类构造函数内部调用超类构造函数，使用apply()、call()。父类引用类型会在子类创建副本，但方法无法继承。</p> <p>伪经典继承将父类实例作为原型对象，使用原型链实现对原型方法的继承，仍在构造函数内调用父类实现对属性的继承。需要两次调用父类构造函数。</p> <p>*原型继承，Object.create()。引用类型公用。</p> <p>*寄生式继承，将对象赋值给空函数的原型。函数无法复用。</p> <p>寄生组合式继承，解决两次调用问题：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">inheritPrototype</span><span class="token punctuation">(</span><span class="token parameter">SubType<span class="token punctuation">,</span>SuperType</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> prototype<span class="token operator">=</span><span class="token function">Object</span><span class="token punctuation">(</span><span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建超类原型副本</span>
        prototype<span class="token punctuation">.</span>constructor<span class="token operator">=</span>SubType<span class="token punctuation">;</span> <span class="token comment">// 修正构造函数指向子类</span>
        <span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span>prototype<span class="token punctuation">;</span> <span class="token comment">// 代替了前面的第一次调用SuperType()</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">SuperType</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>colors<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'blue'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">SuperType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">SubType</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">SuperType</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 继承属性, 二次调用SuperType()</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">inheritPrototype</span><span class="token punctuation">(</span>SubType<span class="token punctuation">,</span>SuperType<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SubType</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayAge</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>空函数实现：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> inherit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 闭包保留空函数</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token constant">C</span><span class="token punctuation">,</span> <span class="token constant">P</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">P</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
            <span class="token class-name">C</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">C</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> <span class="token constant">C</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">inherit</span><span class="token punctuation">(</span>Child<span class="token punctuation">,</span> Parent<span class="token punctuation">)</span>
</code></pre></div><p>ES6实现：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">inherit2</span><span class="token punctuation">(</span><span class="token parameter">subType<span class="token punctuation">,</span> superType</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        subType<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>superType<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">constructor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">value</span><span class="token operator">:</span> subType
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>subType<span class="token punctuation">,</span> superType<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>数组降维、去重、排序（从大到小）：</p> <div class="language-js extra-class"><pre class="language-js"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>a<span class="token operator">-</span>b<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>$.ajax、axios、XHR、fetch区别：</p> <p>$.ajax 和 axios 是对 XMLHttpRequest 的封装， fetch 是底层API，可以代替XHR。</p> <p>$.ajax 是 jQuery 封装的方法；
axios 是一个基于 Promise 的HTTP库，可以用在浏览器和 node.js 中；
fetch 只对网络请求报错，对400、500不会 reject，需要封装处理，默认不带cookie，不支持abort，不支持超时控制，无法原生检测请求进度；</p></li> <li><p>rem、em、%、vh、vw、vm：</p> <p>rem：参考根元素font-size；
em：参考父元素font-size；
%：参考父元素百分比；
vh：参考视口高度均分100份；
vw：参考视口宽度均分100份；
vm：参考视口宽高中较小值来均分100份</p></li> <li><p>git add/commit/push 前后的回滚和提交记录变化：</p> <p>修改commit：<code>git commit --amend</code></p> <p>add前，撤销上一次对文件的操作：<code>git checkout -- &lt;file&gt;</code></p> <p>add后commit前：<code>git reset HEAD &lt;file&gt;</code></p> <p>commit后push前：<code>git reset --soft HEAD^</code>（HEAD^表示上一个版本，同HEAD~1；--soft不删除工作空间改动代码 ，撤销commit不撤销add；--hard删除工作空间改动代码，撤销commit且撤销add；）</p> <p>push后：</p> <p><code>git reset --hard 版本号</code>(回退到目标记录) ， <code>git push origin master --force</code></p> <p><code>git revert -n 版本号</code>(生成新的记录，-n表示--no-commit，如果不带这个参数会自动提交一条commit) ， <code>git push</code></p></li> <li><p>类型判断，数组为例：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">typeof</span> <span class="token keyword">null</span> <span class="token comment">// 'object'</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token comment">// ƒ Array() { [native code] }</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true 原理是通过原型链查找，只能判断对象类型</span>
    <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
    <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 'Array' 可判断所有基本类型，包括null和undefined</span>
    Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div></li> <li><p>new操作符做了什么：</p> <ol><li>创建了一个新的Object的实例；</li> <li>实例的__proto__指向构造函数的原型对象；</li> <li>实例方法中的this指向实例本身；</li> <li>当构造函数return 一个Object/Function/Array/Date/RegExp/Error的实例时，new操作符得到的就是return的结果；</li></ol></li> <li><p>for of、for in、Object.keys：</p> <p>for in 以任意顺序迭代一个对象除Symbol以外的可枚举属性，可以遍历对象，拿到属性名，可以遍历数组，拿到下标；</p> <p>for of 遍历可迭代对象（包括 Array，Map，Set，String，TypedArray，arguments 对象等等），不能遍历对象，能遍历数组，拿到值；</p> <p>Object.keys 返回一个由一个给定对象的自身可枚举属性组成的数组，返回属性名的数组；</p></li> <li><p>Set/WeakSet/Map/WeakMap的区别：</p> <p>Set：任意值，add、delete、has、clear、keys、values、entries；</p> <p>WeakSet：任意对象，弱引用，add、delete、has；</p> <p>Map：任意键值对，set、get、delete、has、clear、keys、values、entries、forEach；</p> <p>WeakMap：属性名必须是对象，弱引用，set、get、delete、has；</p></li> <li><p>跨域：</p> <p>同源：协议、主机、端口相同，不考虑IP；
允许跨域加载资源的标签：<code>&lt;img&gt;、&lt;link&gt;、&lt;script&gt;、&lt;audio&gt;、&lt;video&gt;</code>；
请求发出去了，但是响应被浏览器拦截；
解决方式：CORS跨域资源共享、JSONP、Nginx 反向代理；</p> <p>1、CORS</p> <p>简单请求/非简单请求，根据是否满足条件：请求方法属于以下三种：GET、POST、HEAD，请求头 Accept、Accept-Language、Content-Language、Content-Type的取值范围属于以下三种，application/x-www-form-urlencoded、multipart/form-data、text/plain。</p> <p>简单请求：请求头当中添加Origin，响应头中添加Access-Control-Allow-Origin。</p> <p>非简单请求：会增加一次预检OPTIONS请求，判断是否允许跨域；</p> <p>2、JSONP，利用<code>&lt;script&gt;</code>标签来请求资源，兼容性好，但是仅支持GET方法，不安全，可能会遭受XSS攻击。</p> <p>3、Nginx 反向代理，利用同源策略对服务器没有限制</p></li> <li><p>async/await：</p> <p>async 返回一个 Promise，await 后面一般跟一个 Promise，如果跟原始值，会处理成立即 resolve 的 Promise。
async 函数返回的 Promise 对象，必须等到内部所有的 await 命令的 Promise 对象执行完，才会发生状态改变。</p> <p>async 函数内部 return 返回的值，会成为 then 方法回调函数的参数。</p> <p>await 的 Promise 出现 reject 状态，会阻塞后面的代码，可以用 try/catch 包裹 await。</p></li> <li><p>ES6 Moudle：</p> <p>export命令：可以输出变量、函数、类（class）；输出的变量可用as关键字重命名；输出是引用；可以出现在模块顶层的任何位置；export default 为模块指定默认输出，仅有一个；</p> <p>import命令：接受一对大括号，里面指定导入的变量名；导入的变量可用as关键字重命名；输入的变量都是只读的，但可以改写对象的属性；会提升到整个模块的头部；不能使用表达式和变量等只有在运行时才能得到结果的语法结构；会执行所加载的模块；重复导入不会执行多次；import * 模块整体加载；</p> <p>与 CommonJS 模块的差异：</p> <ol><li>CommonJS 使用require和module.exports，ES6 使用import和export。</li> <li>CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用。</li> <li>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口。</li> <li>CommonJS 的require()命令不能加载 ES6 模块，会报错，只能使用import()这个方法加载。 ES6 模块的import命令可以加载 CommonJS 模块，但是只能整体加载，不能只加载单一的输出项。</li> <li>CommonJs 是单个值导出，ES6 Module可以导出多个。</li> <li>CommonJs 是动态语法可以写在判断里，ES6 Module 静态语法只能写在顶层。</li></ol></li> <li><p>this：</p> <p>函数的直接调用者、new、触发事件的对象；</p></li> <li><p>cdn：</p> <p>内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。</p></li> <li><p>h5新增特性：</p> <p>语义化标签，header、footer、nav、article、section、aside，有利于阅读和维护、有利于SEO搜索引擎识别页面结构、有利于无障碍设备解析；
表单功能增强，input标签多种类型，如：number 类型，可以设置 min 和 max 属性，password 类型，可以设置 minLength 和 maxLength；
form表单增强，如：通用属性 placeholder、autofocus；
视频/音频-video/audio，媒体标签内部可通过 source 标签来进行多种类型的兼容；
画布 Canvas；
拖放；
LocalStorage 和 SessionStorage;
Web Worker;</p></li> <li><p>缓存：</p> <p>cookie（document.cookie）：可设置失效时间，默认关闭浏览器失效；可存放4KB左右数据；会携带在HTTP头中；</p> <p>localStorage（使用同sessionStorage）：除非被手动清除，否则永久保存；可保存5MB数据；不参与通信，仅存于客户端；</p> <p>sessionStorage（sessionStorage.setItem(name,value);、sessionStorage.getItem(name);、sessionStorage.removeItem(name);、 sessionStorage.valueOf();、sessionStorage.属性名、sessionStorage.clear()）：仅在当前会话有效；可保存5MB数据；不参与通信，仅存于客户端；</p> <p>浏览器缓存，分为强制缓存和协商缓存，强缓存优先级更高：</p> <p>强缓存，响应头的Expires（表示缓存到期时间，是绝对时间）和Cache-Control（通过max-age设置相对时间，单位秒；no-cache：需要进行协商缓存，发送请求到服务器确认是否使用缓存；no-store：禁止缓存，每次都要请求；public：默认设置，客户端和代理服务器都可以缓存；private：不能被多用户共享，客户端可以缓存）。</p> <p>协商缓存，从本地缓存获取缓存数据标识，向服务端验证是否失效，未失效返回304&quot;Not Modified&quot;，如果失效返回200和新数据，更新缓存。响应头Last-Modified+请求头if-Modified-Since/if-Unmodified-Since，响应头Etag+请求头If-no-match。</p> <p>Ctrl+F5强制刷新，浏览器会删除缓存。</p></li> <li><p>箭头函数与普通函数的差异：</p> <ol><li>不会创建this，只会从自己的作用域链的上一层继承 this；</li> <li>不可以使用 arguments 对象，该对象在函数体内不存在，可以用...args；</li> <li>不可以使用 yield 命令，因此箭头函数不能用作 Generator 函数；</li> <li>不可以使用 new 命令，因为没有自己的 this，没有 prototype，而 new 命令在执行时需要将构造函数的 prototype 赋值给新的对象的__proto__；</li></ol></li> <li><p>闭包和作用域链：</p> <p>指有权访问另一个函数作用域中的变量的函数，所有的JavaScript函数都是闭包。</p> <p>作用域是在函数定义时决定的，而不是函数调用时决定的。每一段JavaScript代码（全局代码或函数）都有一个与之关联的作用域链。 这个作用域链是一个对象列表或者链表，定义了这段代码“作用域中”的变量。当JavaScript需要查找变量的x的值的时候，它会从作用域链中的第一个对象开始查找， 如果这个对象没有名为x的属性，就会继续查找链上下一个对象，最后到全局作用域，如果全都没有找到就会抛出一个引用错误（ReferenceError）异常。</p></li> <li><p>浏览器渲染过程（从url到展示）：</p> <ol><li>网络进程查找缓存，没有缓存要先进行DNS解析。如果是HTTPS，要建立TLS连接。通过IP地址建立TCP连接，构建请求行、请求头等信息，添加cookie，发起请求。</li> <li>响应为301或302时，从响应头的Location读取重定向的地址，重新发起请求。响应为200，根据Content-Type判断返回类型，HTML格式为text/html。</li> <li>准备渲染进程，Chrome 默认为每个页面分配一个渲染进程，但如果从一个页面打开了另一个新页面，而新页面和当前页面属于同一站点（根域名和协议相同）的话，会复用父页面的渲染进程。</li> <li>浏览器进程发出“提交请求”消息给渲染进程，渲染进程接收后和网络进程建立传输数据的“管道”，等响应体数据传输完成后，渲染进程返回“确认提交”的消息给浏览器进程，浏览器进程收到后更新浏览器界面状态，包括了安全状态、地址栏的 URL、前进后退的历史状态。</li> <li>构建DOM树，从响应体读取HTML原始字节，并指定编码(如UTF-8)转换成字符串， 再将字符串转换成Token，由Token生成节点对象，最后构建DOM树。</li> <li>构建CSSOM树，确定下每一个节点的样式。</li> <li>构建渲染树，遍历DOM树中的所有可见节点，并把这些节点添加到渲染树，不可见的节点会被忽略掉，如head标签下面的全部内容、样式属性包含dispaly:none的元素等。</li> <li>构建分层树，渲染引擎为特定的节点生成专用的图层，并生成一棵对应的图层树。</li> <li>把每一个图层的绘制拆分成很多小的绘制指令，并按照顺序组成一个待绘制列表，提交到合成线程。</li> <li>合成线程会将图层划分为图块，按照视口附近的图块来优先生成位图。</li> <li>合成线程发送绘制图块的命令DrawQuad给浏览器进程，浏览器进程里面有一个叫viz的组件，将内容绘制到内存中，最后显示在屏幕上。</li></ol></li> <li><p>回流（重排）、重绘：</p> <p>会导致回流的操作：
首次渲染、浏览器窗口大小改变、元素尺寸或位置改变（边距、填充、边框、宽度和高度）、元素内容变化（文字数量或图片大小等等）、元素字体大小变化、添加或者删除可见的DOM元素、计算 offsetWidth 和 offsetHeight 属性、设置/查询某些属性、调用某些方法：</p> <ul><li>width、height、margin、padding、border</li> <li>display、position、overflow</li> <li>clientWidth、clientHeight、clientTop、clientLeft</li> <li>offsetWidth、offsetHeight、offsetTop、offsetLeft</li> <li>scrollWidth、scrollHeight、scrollTop、scrollLeft</li> <li>scrollIntoView()、scrollIntoViewIfNeeded()</li> <li>getComputedStyle()</li> <li>getBoundingClientRect()</li> <li>scrollTo()</li></ul> <p>重绘省去了布局和分层阶段，所以执行效率会比重排操作要高一些。会导致重绘的属性和方法：</p> <ul><li>color、text-decoration、visibility</li> <li>background、background-image、background-position、background-repeat、background-size</li> <li>outline、outline-color、outline-style、outline-radius、outline-width</li> <li>border-style、box-shadow</li></ul></li> <li><p>HTTP：</p> <p>HTTP0.9：纯文本格式，只允许用“GET”，没有请求头和请求体，返回内容是以 ASCII 字符流传输，响应后立即关闭连接。</p> <p>HTTP1.0：增加了 HEAD、POST 等新方法，增加了响应状态码，引入了协议版本号概念，引入了 HTTP Header 的概念，支持多种类型的文件下载。</p> <p>HTTP1.1：正式标准。基于TCP/IP的可靠传输，无状态，不保留通信过程的上下文信息，增加了 PUT、DELETE 等新的方法，增加了缓存管理和控制，允许持久连接，允许响应数据分块（chunked），利于传输大文件，强制要求 Host 头，客户端 Cookie 机制和安全机制。</p> <p>缺点：队头阻塞（将同一页面的资源分散到不同域名下，提升连接上限（同域名限制6个））、头部过大、明文传输不安全、不支持服务器推送消息。</p> <p>HTTP2：二进制传输，减少传输数据量；Header压缩，&quot;HPACK&quot;算法，在客户端和服务器两端建立&quot;字典&quot;，用索引号表示重复的字符串，采用哈夫曼编码来压缩整数和字符串；多路复用，同域名同一个TCP连接，定义了“流”（Stream）的概念，它是二进制帧的双向传输序列，同一个消息往返的帧会分配一个唯一的流 ID；支持服务器推送，如：提前把可能会用到的JS、CSS文件发给客户端；安全性提高，“事实上”要求加密通信，基于 TLS。</p> <p>缺点：TCP 以及 TCP+TLS 建立连接的延时、TCP 丢包重传机制导致队头阻塞。</p> <p>HTTP3：QUIC协议，基于 UDP 实现了可靠传输，基本数据传输单位是包和帧，“QPACK”头部压缩算法，没有指定端口号，需要先用HTTP2连接，服务器返回指定端口号。</p> <p>HTTPS：HTTP+TLS/SSL，对称加密（数据加密）、非对称加密（身份认证和密钥协商）、散列函数（验证信息完整性），标准端口443；</p> <ul><li>HTTP与HTTPS的区别：</li> <li>HTTPS比HTTP更加安全，对搜索引擎更友好，利于SEO，谷歌、百度优先索引HTTPS网页;</li> <li>HTTPS需要用到SSL证书，而HTTP不用;</li> <li>HTTPS标准端口443，HTTP标准端口80;</li> <li>HTTPS基于传输层，HTTP基于应用层;</li> <li>HTTPS在浏览器显示绿色安全锁，HTTP没有显示;</li> <li>HTTPS普遍认为性能消耗要大于HTTP，因为与纯文本通信相比，加密通信会消耗更多的CPU及内存资源;</li></ul> <p>请求头起始行：GET /home HTTP/1.1 方法 + 路径 + http版本</p> <p>响应头起始行：HTTP/1.1 200 OK http版本 + 状态码 + 原因</p> <p>状态码：101 同意升级WebSocket、206 断点续传，body只是原数据的一部分、301 永久重定向、302 临时重定向、304 协商缓存Not Modified、403 无权限、404 Not Found 资源未找到、416 Range请求范围不合法、503 服务器暂时错误稍后重试。</p> <p>CSP内容安全策略：添加 Content-Security-Policy HTTP头部到一个页面，并配置相应的值，以控制用户代理（浏览器等）可以为该页面获取哪些资源。</p></li> <li><p>事件模型：</p> <p>DOM事件流三个阶段：事件捕获阶段、处于目标阶段、事件冒泡阶段。</p> <p>dom0级事件处理程序，on+事件，如onclick；dom2级事件处理程序，addEventListener/removeEventListener；ie事件处理程序，attachEvent/detachEvent。</p> <p>dom中的事件对象，事件对象的属性：cancelable是否可取消默认行为、currentTarget正在处理事件的那个元素、target事件目标、type事件类型、eventPhase处理阶段1捕获2目标3冒泡。阻止默认行为，dom0级return false，dom0/2级preventDefault()。阻止传播，event.stopPropagation()。</p> <p>ie中的事件对象，事件对象的属性：cancelBubble设为true可以取消冒泡、returnValue设为false可以取消默认行为、srcElement事件目标、type事件类型。</p></li> <li><p>事件循环：</p> <p>宏任务 MacroTask ：Script、setTimeout、setImmediate、setInterval、I/O、UI rendering</p> <p>微任务 MicroTask ：Promise、MutationObserver、process.nextTick、Object.observe</p></li> <li><p>preload/prefetch、defer/async：</p> <p><code>&lt;link rel=&quot;preload&quot; href=&quot;./app.js&quot; as=&quot;script&quot;&gt;</code>preload提高优先级，优先加载本页资源；</p> <p><code>&lt;link rel=&quot;prefetch&quot; href=&quot;./vendor-async.js&quot;&gt;</code>prefetch降低优先级，提前加载可能用到的资源；</p> <p><code>&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;</code>没有 defer 或 async，读到就加载，加载完成就执行；</p> <p><code>&lt;script defer src=&quot;index.js&quot;&gt;&lt;/script&gt;</code>defer 属性表示延迟执行，设置了defer的js加载不会阻塞dom构建，即js加载时HTML并未停止解析，这两个过程是并行的，都完成后才会执行；</p> <p><code>&lt;script async src=&quot;index.js&quot;&gt;&lt;/script&gt;</code>async 属性表示异步执行，与 defer 的区别在于，如果已经加载好，就会开始执行；</p> <p>在加载多个JS脚本的时候，async是无顺序的加载，而defer是有顺序的加载。</p></li> <li><p>dns预解析：</p> <p>通过域名访问站点要做DNS解析，按照浏览器缓存、系统缓存、路由器缓存、ISP(运营商)DNS缓存、根域名服务器、顶级域名服务器、主域名服务器的顺序，逐步读取缓存，直到拿到IP地址。
DNS Prefetch 是一种 DNS 预解析技术，浏览器会在加载网页时对网页中的域名进行解析并缓存，当用户单击连接时就无需再进行DNS的解析。
Chromium使用超链接的href属性来查找要预解析的主机名。解析过程与用户浏览网页并行。 为了确保安全性，在HTTPS页面中不会自动解析。</p> <p>手动解析：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dns-prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.spreadfirefox.com/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x-dns-prefetch-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>禁用隐式dns预解析：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>x-dns-prefetch-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>实现深度优先遍历/广度优先遍历（递归和非递归版）：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> tree <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'中国'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'西城区'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'月坛街道'</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'海淀区'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'昌平区'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'浙江省'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'杭州市'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                            <span class="token punctuation">{</span>
                                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'西湖区'</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'嘉兴市'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'绍兴市'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'宁波市'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 递归算法</span>
    <span class="token keyword">function</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token parameter">tree</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
        <span class="token keyword">let</span> children <span class="token operator">=</span> tree<span class="token punctuation">.</span>children
        <span class="token keyword">if</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>   
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 深度优先遍历</span>
    <span class="token keyword">function</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token parameter">tree<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> item <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
            <span class="token keyword">let</span> children <span class="token operator">=</span> item<span class="token punctuation">.</span>children
            <span class="token keyword">if</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> children<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 广度优先遍历</span>
    <span class="token keyword">function</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token parameter">tree</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> item <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
            <span class="token keyword">let</span> children <span class="token operator">=</span> item<span class="token punctuation">.</span>children
            <span class="token keyword">if</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>冒泡、选择、插入、快排：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token comment">// 冒泡排序 O(n²) 稳定</span>
    <span class="token comment">// 两两比较，大的往后换，一趟完成最后一个最大</span>
    <span class="token keyword">function</span> <span class="token function">babelSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> len<span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 选择排序 O(n²) 不稳定</span>
    <span class="token comment">// 从头开始，将第一个元素和其他元素作比较，碰到更小的就交换，一趟完成第一个最小</span>
    <span class="token keyword">function</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 插入排序 O(n²) 稳定</span>
    <span class="token comment">// 默认首个为已排序，从第二个开始，往前比较，遇到更大的交换位置，遇到更小的停止（因为前面已排序不必再比），换下个数</span>
    <span class="token keyword">function</span> <span class="token function">insertSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token keyword">break</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 快速排序 O(nlogn) 不稳定</span>
    <span class="token comment">// 以第一个数为基准，比它大放右边，比它小放左边，递归</span>
    <span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> arr
        <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> base <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> base <span class="token operator">?</span> left<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> right<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>left<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>right<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>柯里化：</p> <p>柯里化指这样的一种函数，它接受一个函数A为参数，返回一个新的函数，新函数能够接受函数A的剩余参数。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>length<span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> fn<span class="token punctuation">;</span> <span class="token comment">// 原函数无入参，直接返回原函数</span>
        <span class="token keyword">var</span> args1 <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> args2 <span class="token operator">=</span> args1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> args2<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> fn<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token function">curry</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token operator">...</span>args2<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token operator">+</span>b<span class="token operator">+</span>c
    <span class="token keyword">var</span> _add <span class="token operator">=</span> <span class="token function">curry</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">_add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">_add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 9</span>
</code></pre></div></li> <li><p>实现一个深拷贝，考虑对象相互引用以及Symbol：</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> cache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> target
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            target<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                cache<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
                <span class="token keyword">return</span> t
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                cache<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
                res<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span>target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> cache<span class="token punctuation">)</span>
                <span class="token keyword">return</span> res
            <span class="token punctuation">}</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>constructor <span class="token operator">!==</span> Object <span class="token operator">?</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>node的应用常见、优缺点：</p> <p>Node.js是一个基于V8引擎的服务端JavaScript运行环境。单进程、单线程；事件驱动；非阻塞I/O(遇到I/O创建线程执行)。</p> <p>优点：高并发、适合I/O密集型应用。</p> <p>缺点：只支持单核CPU，不能充分利用CPU、可靠性低，（由于单进程、单线程）一旦代码某个环节崩溃，整个系统都崩溃（解决方案：1.Nnigx反向代理，负载均衡，开多个进程，绑定多个端口；2.开多个进程监听同一个端口，使用cluster模块）、 开源组件库质量参差不齐，更新快，向下不兼容、Debug不方便，错误没有stack trace。</p> <p>应用场景：RESTful API、统一Web应用的UI层、大量Ajax请求的应用。</p></li> <li><p>sass/less：</p> <p>CSS 预处理器，less（变量、混合、嵌套、运算、函数、导入），sass（变量、嵌套、混合）</p></li> <li><p>安全问题：</p> <p>XSS 跨站脚本攻击，往Web页面里插入恶意可执行网页脚本代码。
分类：反射型XSS（通过URL传递参数功能）、存储型 XSS（恶意脚本存储在目标服务器上）、DOM 型 XSS（不可信的用户输入）、基于字符集的 XSS（meta 没有指定 charset）、未经验证的跳转 XSS。
不从URL读取数据直接渲染、对涉及渲染的内容做转义、尽量不使用可执行字符串的方法、尽量使用 .innerText、.textContent、.setAttribute() 等、指定<code>&lt;meta charset=&quot;utf-8&quot;&gt;</code>、对待跳转的 URL 参数做白名单或者某种规则过滤。</p> <p>CSRF 跨站请求伪造，诱导点击，冒用身份。
为每个POST请求增加验证码；为每个用户生成一个唯一的token，用户在提交请求时携带；利用 Samesite Cookie属性。</p> <p>点击劫持，指在一个Web页面中隐藏了一个透明的iframe，用外层假页面诱导用户点击。
X-FRAME-OPTIONS头部字段。</p></li> <li><p>设计模式：</p> <p>观察者模式，观察者只要订阅了被观察者的事件，那么当被观察者的状态改变时，被观察者会主动去通知观察者，而无需关心观察者得到事件后要去做什么，实际程序中可能是执行订阅者的回调函数。</p> <p>代理模式，为对象提供一种代理以控制对这个对象的访问。</p> <p>单例模式，调用一个类，任何时候返回的都是同一个实例。</p> <p>工厂模式，工厂模式创建对象时不确定具体用哪个创建对象的类，而是定义一个用于创建对象的接口，通过接口决定如何实例化。</p> <p>装饰者模式，在不改变对象自身的基础上，在程序运行期间给对象动态的添加属性或方法。</p></li> <li><p>js基本规范：</p> <p>尽量用let和const代替var、用字符串模板而不是 + 来拼接字符串、函数参数优先用...args，而不是arguments、函数参数默认赋值opts = {}，而不是在内部赋值、一个模块只 import 一次、用a || b取代三元表达式、语义化命名，驼峰；</p></li> <li><p>浏览器的popstate什么情况下会触发：</p> <p>history.pushState()、history.replaceState()不会触发popstate事件，popstate事件只会在浏览器某些行为下触发，比如点击后退、前进，调用history.back()、history.forward()、history.go()</p></li> <li><p>css样式隔离的几种方案及其优缺点：</p> <ol><li>BEM，模块名 + 元素名 + 修饰器名的命名方法论，.block__element--modifier，如.dropdown-menu__item--active。优点：可读性好；缺点：命名太长，依赖人为约定容易出错；</li> <li>CSS modules，在构建步骤中对CSS类名和选择器限定作用域，依赖webpack css-loader，为每个局部样式名编译为哈希字符串，全局样式可以使用:global。优点：学习成本低，避免人工约束；缺点：没有变量，hash导致debug不方便；</li> <li>CSS in JS，一种设计模式，它的核心思想是把CSS直接写到各自组件中，有很多库，通过唯一CSS选择器或者行内样式解决。优点：没有无用的CSS样式堆积问题；缺点：学习成本高，可读性差，由于动态生成css，造成运行时消耗；</li> <li>CSS 预处理器，利用嵌套。优点：可读性好；缺点：依赖人为约定容易出错，需要编译；</li> <li>Shadow DOM，优点：浏览器原生支持；缺点：浏览器兼容问题，只对一定范围内的dom结构起作用；</li> <li>vue scoped，优点：简单；缺点：只适用于vue；</li></ol></li> <li><p>前端优化：</p> <ol><li><p>减少回流、重绘（css：使用 transform 替代 top；使用 visibility 替换 display: none；避免使用 table 布局；避免设置节点层级过多的样式，CSS 选择符从右往左匹配查找；js：避免频繁操作样式和DOM；避免频繁读取会引发回流/重绘的属性；）</p></li> <li><p>首屏加载优化：webpack 分离打包（optimization.splitChunks）、mini-xss-extract-plugin（提取CSS到单独的文件, 并使用optimize-css-assets-webpack-plugin来压缩CSS文件）、uglifyjs-webpack-plugin、懒加载（import()）、缓存、图片压缩、雪碧图、cdn、gizp、link标签的preload（提高优先级，优先加载本页资源）/prefetch（降低优先级，提前加载可能用到的资源）</p></li> <li><p>其他性能优化：js压缩（terser-webpack-plugin）、css压缩（css-minimizer-webpack-plugin）、删除无用css（purgecss-webpack-plugin）、图片压缩（image-webpack-loader）</p></li></ol></li></ul> <h4 id="webpack"><a href="#webpack" class="header-anchor">#</a> webpack</h4> <ul><li><p>提高构建速度：</p> <p>resolve 配置（alias配置别名简化模块引用、extensions配置解析文件格式、modules配置解析模块时应该搜索的目录）、externals配置从输出的 bundle 中排除依赖、module.rules配置include和exclude，指定 loader 的作用目录或者需要排除的目录、module.noParse配置不需要解析依赖的第三方大型类库、IgnorePlugin防止在 import 或 require 调用时，生成正则表达式匹配的模块、多进程配置、babel-loader 开启缓存，其他loader可以用cache-loader、cache 缓存生成的 webpack 模块和 chunk。</p></li> <li><p>基础配置：</p> <p>mode、devtool、entry、output、resolve(alias、extensions)、module.rules(babel-loader、style-loader、css-loader、less-loader、sass-loader、url-loader)、plugins(html-webpack-plugin、mini-css-extract-plugin)</p></li> <li><p>构建流程：</p> <ol><li><p>从配置文件和Shell语句中读取与合并参数，根据参数初始化compiler对象，加载插件</p></li> <li><p>执行compiler对象的run方法开始执行编译，每一次新的编译都会实例化一个compilation对象，记录本次编译的基本信息，进入make hook（生成modules）</p></li> <li><p>通过compilation.addEntry，找到配置中的entry找出所有的入口文件，从入口文件出发，递归找出依赖的依赖</p></li> <li><p>通过loader将依赖转换成标准的js，通过Parser.parse再转换成AST，解析成AST最大作用就是收集模块依赖关系，webpack会遍历AST对象将依赖记录在module.dependencies，最后遍历module.dependencies解析依赖生成module，make阶段结束，得到项目所依赖的所有modules</p></li> <li><p>执行compilation.seal方法生成chunks，把entry中对应的每个module都生成一个新的chunk，遍历module.dependencies，将其依赖的模块也加入到上一步生成的chunk中，若某个module是动态引入的，为其创建一个新的chunk，接着遍历依赖</p></li> <li><p>遍历chunk，生成源码，调用emitAsset将其存在compilation.assets（最终的文件列表），compilation.seal结束，compilation结束</p></li> <li><p>进入emit hook，这是修改最终文件的最后一个机会</p></li> <li><p>遍历 compilation.assets 生成所有文件，然后触发钩子done，结束构建流程。</p></li></ol> <p>简单地说：</p> <ol><li><p>读取与合并配置参数，加载 Plugin，实例化 Compiler</p></li> <li><p>从 Entry 出发，用 Loader 翻译每个Module，递归地进行编译处理并得到依赖关系</p></li> <li><p>将编译后的 Module 组合成 Chunk，将 Chunk 转换成文件，输出到文件系统中</p></li></ol></li> <li><p>babel原理：</p> <ol><li>解析，从代码=&gt;AST语法树，分为词法分析（代码字符串=&gt;tokens）、语法分析阶段（tokens=&gt;AST）。</li> <li>转换，遍历AST，对节点进行增删改。</li> <li>生成，AST=&gt;代码字符串。</li></ol> <p>Babel 的预设（preset）可以被看作是一组 Babel 插件和/或 options 配置的可共享模块。</p></li> <li><p>tree-shaking原理：</p> <p>Tree-shaking 的本质是消除无用的js代码。Tree-shaking原理依赖于ES6的模块特性。ES6模块依赖关系是确定的，和运行时的状态无关，可以进行可靠的静态分析，这就是tree-shaking的基础。所谓静态分析就是不执行代码，从字面量上对代码进行分析，ES6之前的模块化，比如我们可以动态require一个模块，只有执行后才知道引用的什么模块，这个就不能通过静态分析去做优化。</p></li> <li><p>热更新原理：</p> <ol><li>使用express启动本地服务，将websocket客户端代码塞进打包结果，用websocket连接浏览器；</li> <li>监听源文件的变化，触发重新编译，生成新的hash值（用于下一次打包结果命名）、json文件、js文件，通过websocket发送最新hash给浏览器；</li> <li>客户端对比，走缓存或发起ajax请求json文件，通过JSONP方式请求js文件（JSONP获取的代码可以直接执行，以进行热更新）；</li></ol></li></ul> <h4 id="框架"><a href="#框架" class="header-anchor">#</a> 框架</h4> <ul><li><p>vue和react不同：</p> <ul><li><p>监听数据变化的实现原理不同：Vue 通过 getter/setter 以及一些函数的劫持，能精确知道数据变化，不需要特别的优化就能达到很好的性能。React 默认是通过比较引用的方式进行的。</p></li> <li><p>数据流：Vue 组件与DOM之间可以通过 v-model 双向绑定。 react 组件=&gt;Dom单向数据流，使用onChange/setState()。</p></li> <li><p>组合不同功能：Vue通过 mixin，而在React中通过高阶组件。（现在都有hooks了）</p></li> <li><p>组件通信：Vue props/event，provide/inject跨越层级。React props传递数据和回调，context跨越层级。</p></li> <li><p>渲染方式不同：React是在组件中通过原生JS实现模板中的常见语法，比如插值，条件，循环等。Vue是在template模板中，通过指令比如v-if、v-for来实现。</p></li></ul></li> <li><p>vue和react设计思想：</p> <p>vue的整体思想仍然是拥抱经典的html(结构)+css(表现)+js(行为)的形式，vue鼓励开发者使用template模板，并提供指令供开发者使用(v-if、v-show、v-for等等)，因此在开发vue应用的时候会有一种在写经典web应用（结构、表现、行为分离）的感觉。对组件数据做到了更细致的监听，精准实现组件级别的更新。</p> <p>react整体上是函数式的思想，组件使用jsx语法，all in js，将html与css全都融入javaScript，jsx语法相对来说更加灵活。 当组件调用setState或props变化的时候，组件内部render会重新渲染。</p></li> <li><p>vuex和redux区别：</p> <p>从使用上来说：
Vuex 中 mutaion 是改变 state 的唯一途径，可以使用 commit-mutations 和 dispatch-actions 提交更新，actions 支持异步；通过 mapState 辅助函数将 state 作为计算属性访问， 或者直接通过 this.$store.state 来读取数据。
Redux 中用 Reducer（纯函数，根据 action 和旧 state 计算出新的 state） 实现替换 state，dispatch(action) =&gt; reducer(state, action)。</p> <p>从实现原理上来说，最大的区别是两点：
Redux 使用的是不可变数据，而Vuex的数据是可变的。Redux每次都是用新的state替换旧的state，而Vuex是直接修改。Redux 在检测数据变化的时候，是通过 diff 的方式比较差异的，而Vuex其实和Vue的原理一样，是通过 getter/setter。</p></li> <li><p>MVVM：</p> <p>View 层，视图层，用户界面，由 HTML 和 CSS 来构建。</p> <p>Model 层，指数据模型，泛指后端进行的各种业务逻辑处理和数据操控，主要围绕数据库系统展开。</p> <p>ViewModel 层，由前端开发人员组织生成和维护的视图数据层。
前端对从后端获取的 Model 数据进行转换处理，做二次封装，以生成符合 View 层使用预期的视图数据模型。
需要注意的是 ViewModel 所封装出来的数据模型包括视图的状态和行为两部分，而 Model 层的数据模型是只包含状态的，比如页面的这一块展示什么，那一块展示什么这些都属于视图状态（展示），而页面加载进来时发生什么，点击这一块发生什么，这一块滚动时发生什么这些都属于视图行为（交互），视图状态和行为都封装在了 ViewModel 里。这样的封装使得 ViewModel 可以完整地去描述 View 层。
由于实现了双向绑定，ViewModel 的内容会实时展现在 View 层，前端不必操纵 DOM 去更新视图，MVVM 框架已经把最脏最累的一块做好了，开发者只需处理和维护 ViewModel，更新数据视图就会自动得到相应更新，真正实现数据驱动开发。
View 层展现的不是 Model 层的数据，而是 ViewModel 的数据，由 ViewModel 负责与 Model 层交互，这就完全解耦了 View 层和 Model 层，这个解耦是至关重要的，它是前后端分离方案实施的重要一环。</p></li></ul> <h5 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h5> <ul><li><p>响应式原理：</p> <p>data对象，有一个__ob__属性，对应一个Observer实例，Observer实例会重写data上的每一个属性，并通过闭包保存每个属性各自的dep数组， 而每一个dep数组，收集了这个属性的所有Watcher观察者实例，而每一个观察者实例各自有一个deps依赖集，反向收集闭包的dep。</p></li> <li><p>为什么vue3响应式用proxy代替Object.defineProperty：</p> <p>Object.defineProperty 无法监控数组下标的变化，导致通过数组下标添加元素，不能实时响应；只能劫持对象的属性，需要遍历每个属性，如果嵌套，需要深度遍历。
Proxy 可以劫持整个对象，并返回一个新的对象；不仅可以代理对象，还可以代理数组；可以代理动态增加的属性。</p></li> <li><p>响应后如何更新页面：</p> <p>渲染Watcher执行<code>update-&gt;run-&gt;get</code>，调用了<code>vm._update-&gt;vm.__patch__-&gt;patch</code>。
节点相同判断通过sameVnode方法。</p> <p>patch：</p> <ul><li>新节点不存在，则销毁旧节点，结束patch；</li> <li>旧节点不存在，则创建新节点；</li> <li>旧节点存在且新旧相同，进行patchVnode；</li> <li>旧节点存在且新旧不同，创建新节点；</li></ul> <p>patchVnode：</p> <ul><li>新节点有文本节点，且与旧文本节点不同，则替换文本；</li> <li>新节点不存在文本节点：</li> <li>都有子节点且子节点不同，进行updateChildren；</li> <li>仅新节点有子节点，增加节点；</li> <li>仅旧节点有子节点，删除节点；</li> <li>均无子节点，清空文本；</li></ul> <p>updateChildren：</p> <ul><li>首首、尾尾、首尾、尾首比较；</li> <li>上述四种不匹配，则查找相同key，没找到则新增节点；</li> <li>找到相同key但节点不同，则新增节点；</li> <li>找到相同key但节点相同，则移动；</li> <li>直到新节点列表或旧节点列表有一个遍历完，对多余的旧节点进行删除，新节点进行增加；</li></ul></li> <li><p>生命周期：</p> <p>beforeCreate =&gt; created 这个阶段进行数据观测，created可以拿到$data</p> <p>beforeMount =&gt; mounted 这个阶段从 <code> =&gt; 真实内容</code>，添加$el</p> <p>beforeUpdate =&gt; updated</p> <p>beforeUnmount =&gt; unmounted</p> <p>activated =&gt; deactivated</p></li> <li><p>父子组件生命周期执行顺序：</p> <p>加载渲染：父beforeCreate -&gt; 父created -&gt; 父beforeMount -&gt; 子beforeCreate -&gt; 子created -&gt; 子beforeMount -&gt; 子mounted -&gt; 父mounted</p> <p>更新：父beforeUpdate -&gt; 子beforeUpdate -&gt; 子updated -&gt; 父updated</p> <p>销毁：父beforeDestroy -&gt; 子beforeDestroy -&gt; 子destroyed -&gt; 父destroyed</p></li> <li><p>computed 和 watch 的区别：</p> <p>需要经过计算获取值，可以使用computed，需要在值发生变化的时候执行回调则用watch。计算属性的结果会被缓存，除非依赖的响应式 property 变化才会重新计算。</p> <p>computed本质是在vue实例上定义一个计算属性同名属性，我们设置的computed的方法是这个属性的get方法，而watch设置的方法是watcher实例的callback回调。</p></li> <li><p>v-if/v-show区别：</p> <p>v-if 会重新渲染和销毁，v-show 只是样式层面的隐藏。从开闭的频率和初始化两方面考虑该采用哪个。</p></li> <li><p>vue-router有哪些钩子：</p> <p>全局守卫（beforeEach、beforeResolve、afterEach）、路由独享的守卫（beforeEnter）、组件内的守卫（beforeRouteEnter、beforeRouteUpdate、beforeRouteLeave）</p></li> <li><p>vuex 原理：</p> <p>通过applyMixin方法，在vue的beforeCreate生命周期混入一个vuexInit方法，通过该方法初始化或从父组件拿$store，保证全局共用一个store。 Vuex内部新建一个Vue实例vm，通过vm响应式地注册state，并将状态管理的getters注册到vm的computed上。</p></li> <li><p>vue computed 原理：</p> <p>假设有一个vue实例vm，vm.data上有一个A属性，vm.computed上有一个A'计算属性，值为function(){return this.A}。</p> <ul><li><p>那么A在initData方法中会生产一个观察者实例watcher a，A'在initComputed方法中会生产一个观察者实例watcher a'。</p></li> <li><p>第一次调用vm.computed.A'时：触发A'的get，由于a'.dirty默认为true，调用a'.evaluate=&gt;a'.get(在这里将Dep.target设为a')=&gt;调用a'.getter，即function(){return this.A}，触发了A.get。</p></li></ul> <p>在A.get中，由于Dep.target指向a'，调用了A的闭包中的dep的depend方法，dep.depent调用了Dep.target也就是a'的addDep，a'.addDep又触发了dep.addSub， 总的来说，这一步完成了双方的观察者和依赖的收集。</p> <p>A.get执行完，回到a'.get，将Dep.target设为null，回到a'.evaluate，将a'.dirty设为false。</p> <ul><li><p>第二次调用vm.computed.A'时，由于a'.dirty为false，直接返回缓存的a'.value。</p></li> <li><p>当A被更改时，触发A的set，调用dep.notify，会调用a'.update，在update中a'.dirty将重置为true，下一次获取A'时就会重新调用a'.evaluate了。</p></li></ul></li></ul> <h5 id="react"><a href="#react" class="header-anchor">#</a> React</h5> <ul><li><p>setState:</p> <p>1、由 React 控制的事件处理程序，以及生命周期函数调用 setState 不会同步更新 state。</p> <p>2、React 控制之外的事件中调用 setState 是同步更新的。比如原生 js 绑定的事件，setTimeout/setInterval 等。</p></li> <li><p>hooks：</p> <p>无状态组件没有state和逻辑难以复用问题</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">const</span> useFetchApi <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token function-variable function">fetch</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">param<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Promise<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> reqData<span class="token punctuation">,</span> resData <span class="token punctuation">}</span><span class="token operator">:</span> IOption<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token constant">K</span>
        <span class="token literal-property property">loading</span><span class="token operator">:</span> boolean
        <span class="token function-variable function">run</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">param</span><span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
    <span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setData<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>resData<span class="token punctuation">)</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span>params<span class="token punctuation">,</span> setParams<span class="token punctuation">]</span> <span class="token operator">=</span> useState<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>reqData<span class="token punctuation">)</span>

        <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
                <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span>
                <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
                <span class="token function">setData</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>fetch<span class="token punctuation">,</span> params<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">const</span> <span class="token function-variable function">run</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">newParams</span><span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">setParams</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>newParams <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            data<span class="token punctuation">,</span>
            loading<span class="token punctuation">,</span>
            run<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>生命周期：</p> <p>挂载：constructor（初始化state或为事件处理函数绑定实例，不能使用setState） =&gt; getDerivedStateFromProps（可以比较新的props和旧的state来加一些限制条件，防止无用的state更新，静态函数，不能使用this） =&gt; render（不能使用setState） =&gt; componentDidMount（发送网络请求、启用事件监听方法等）</p> <p>更新：getDerivedStateFromProps =&gt; shouldComponentUpdate（返回布尔值，控制组件是否进行更新，不能使用setState） =&gt; render =&gt; getSnapshotBeforeUpdate（真正挂载前调用，返回值会传给componentDidUpdate） =&gt; componentDidUpdate（首次渲染不执行）</p> <p>卸载：componentWillUnmount</p></li> <li><p>父子组件生命周期执行顺序：</p> <p>加载渲染：父constructor -&gt; 父getDerivedStateFromProps -&gt; 父render -&gt; 子constructor -&gt; 子getDerivedStateFromProps -&gt; 子render -&gt; 子componentDidMount -&gt; 父componentDidMount</p> <p>更新：父getDerivedStateFromProps -&gt; 父shouldComponentUpdate -&gt; 父render -&gt; 子getDerivedStateFromProps -&gt; 子shouldComponentUpdate -&gt; 子render -&gt; 子getSnapshotBeforeUpdate -&gt; 父getSnapshotBeforeUpdate -&gt; 子componentDidUpdate -&gt; 父componentDidUpdate</p></li> <li><p>fiber：</p> <p>fiber是协程，使得 React 渲染的过程可以被中断，可以将控制权交回浏览器，让位给高优先级的任务，浏览器空闲后再恢复渲染。</p> <p>三层含义：</p> <ol><li>作为架构来说，在旧的架构中，Reconciler（协调器）采用递归的方式执行，无法中断，节点数据保存在递归的调用栈中，被称为 Stack Reconciler；在新的架构中，Reconciler（协调器）是基于fiber实现的，节点数据保存在fiber中，所以被称为 fiber Reconciler。</li> <li>作为静态数据结构来说，每个fiber对应一个组件，保存了这个组件的类型对应的dom节点信息，这个时候，fiber节点就是我们所说的虚拟DOM。</li> <li>作为动态工作单元来说，fiber节点保存了该节点需要更新的状态，以及需要执行的副作用。</li></ol> <p>React 目前的做法是使用链表, 每个 VirtualDOM 节点内部现在使用 Fiber 表示。因为使用了链表结构，即使处理流程被中断了，我们随时可以从上次未处理完的Fiber继续遍历下去。</p> <p>每次渲染有两个阶段：Reconciliation(协调阶段) 和 Commit(提交阶段)。</p> <p>协调阶段: 可以认为是 Diff 阶段, 这个阶段可以被中断, 这个阶段会找出所有节点变更，例如节点新增、删除、属性变更等等, 这些变更 React 称之为'副作用(Effect)'。以下生命周期钩子会在协调阶段被调用：constructor、componentWillMount 废弃、componentWillReceiveProps 废弃、static getDerivedStateFromProps、shouldComponentUpdate、componentWillUpdate 废弃、render。</p> <p>提交阶段: 将上一个阶段计算出来的需要处理的副作用(Effects)一次性执行了。这个阶段必须同步执行，不能被打断. 这些生命周期钩子在提交阶段被执行:getSnapshotBeforeUpdate() 严格来说，这个是在进入 commit 阶段前调用、componentDidMount、componentDidUpdate、componentWillUnmount。</p> <p>在协调阶段如果时间片用完，React就会选择让出控制权。因此 React 协调阶段的生命周期钩子可能会被调用多次。所以建议协调阶段的生命周期钩子不要包含副作用，React 就废弃了这部分可能包含副作用的生命周期。</p> <p>React 在 Reconciliation（diff） 过程中会构建一颗新的树(官方称为workInProgress tree，WIP树)，可以认为是一颗表示当前工作进度的树。还有一颗表示已渲染界面的旧树，React就是一边和旧树比对，一边构建WIP树的。</p> <p>WIP 树类似一个缓冲机制，在Reconciliation 完毕后一次性提交给浏览器进行渲染。它可以减少内存分配和垃圾回收，WIP 的节点不完全是新的，比如某颗子树不需要变动，React会克隆复用旧树中的子树。还有另外一个重要的场景就是异常的处理，比如当一个节点抛出异常，仍然可以继续沿用旧树的节点，避免整棵树挂掉。</p> <p>好处：</p> <ul><li>快速响应用户操作和输入，提升用户交互体验</li> <li>让动画更加流畅，通过调度，可以让应用保持高帧率</li> <li>利用好I/O 操作空闲期或者CPU空闲期，进行一些预渲染。 比如离屏(offscreen)不可见的内容，优先级最低，可以让 React 等到CPU空闲时才去渲染这部分内容。</li> <li>用Suspense 降低加载状态(load state)的优先级，减少闪屏。 比如数据很快返回时，可以不必显示加载状态，而是直接显示出来，避免闪屏；如果超时没有返回才显式加载状态。</li></ul></li> <li><p>redux工作流程：</p> <p>View 发起 dispatch Action，store 调用 Reducer 收到旧 state 和 Action，返回新的 state，View 更新。</p></li> <li><p>react 18 有哪些更新：</p> <p>多个setState批量更新只渲染一次、用flushSync退出批量更新（flushSync内部仍为批量更新）、去掉了对IE浏览器的支持、空组件支持返回undefined、useId API。</p></li> <li><p>react 设计思想：</p> <p>组件化、数据驱动视图、虚拟DOM</p></li> <li><p>为什么没有使用react，也要在顶部import React from &quot;react&quot;：</p> <p>只要使用了jsx，就需要引用react，因为jsx本质就是React.createElement的语法糖。jsx需要经过编译。</p></li> <li><p>为什么React自定义组件首字母要大写：</p> <p>jsx通过babel转义时，调用了React.createElement函数，它接收三个参数，分别是type元素类型，props元素属性，children子元素。如果组件首字母为小写，会被当成字符串作为type传递，在创建虚拟DOM的时候，就会把它当成一个html标签，而html没有这个标签，就会报错。组件首字母为大写，它会当成一个变量进行传递，React知道它是个自定义组件就不会报错。</p></li> <li><p>React组件为什么不能返回多个元素：</p> <p>React组件最后会编译为render函数，函数的返回值只能是一个。</p></li> <li><p>React中元素和组件的区别：</p> <p>react组件有类组件、函数组件；react元素是通过jsx创建的，<code>const element = &lt;div className=&quot;element&quot;&gt;我是元素&lt;/div&gt;</code></p></li> <li><p>React中数据流通：</p> <p>props、回调、子组件向父组件的事件冒泡、ref、Context、Redux</p></li> <li><p>React事件机制：</p> <p>合成事件：React基于浏览器的事件机制实现了一套自身的事件机制，在底层磨平不同浏览器的差异，实现了对所有事件的中心化管控，引入事件池。虽然合成事件不是原生DOM事件，但它包含了原生DOM事件的引用，可以通过e.nativeEvent访问。React所有的事件绑定在container上(react17以后)，而不是绑定在DOM元素上（作用：减少内存开销，所有的事件处理都在container上，其他节点没有绑定事件）。React自身实现了一套冒泡机制，不能通过return false阻止冒泡。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// React事件到原生事件的映射</span>
<span class="token punctuation">{</span>
    <span class="token literal-property property">onBlur</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'blur'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">onClick</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'click'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">onClickCapture</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'click'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">onChange</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'blur'</span><span class="token punctuation">,</span> <span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token string">'keydown'</span><span class="token punctuation">,</span> <span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token string">'selectionchange'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">onMouseEnter</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token string">'mouseover'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">onMouseLeave</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token string">'mouseover'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>React怎么阻止事件冒泡：阻止合成事件的冒泡用e.stopPropagation()；阻止合成事件和最外层document事件冒泡，使用e.nativeEvent.stopImmediatePropogation()。</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/jiuto_blog/guide/else/interview.html" class="prev">
        面试路漫漫2021
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/jiuto_blog/assets/js/app.14af747a.js" defer></script><script src="/jiuto_blog/assets/js/2.63c13255.js" defer></script><script src="/jiuto_blog/assets/js/26.de798afe.js" defer></script>
  </body>
</html>
